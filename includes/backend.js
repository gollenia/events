!function(){"use strict";var e={d:function(t,n){for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}};!function(e,t,n){var l={};n.r(l),n.d(l,{name:function(){return f},settings:function(){return w}});var a={};n.r(a),n.d(a,{name:function(){return k},settings:function(){return L}});var o={};n.r(o),n.d(o,{name:function(){return H},settings:function(){return M}});var r={};n.r(r),n.d(r,{name:function(){return ce},settings:function(){return me}});var s=window.wp.blocks;function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},i.apply(this,arguments)}var c=window.wp.element,u=window.wp.blockEditor,m=window.wp.i18n,d=window.wp.data,h=window.wp.coreData,v=window.wp.components;let g=[];g.posts=(0,c.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24",viewBox:"0 0 24 24",width:"24"},(0,c.createElement)("g",null,(0,c.createElement)("rect",{fill:"none",height:"24",width:"24"})),(0,c.createElement)("g",null,(0,c.createElement)("g",null),(0,c.createElement)("g",null,(0,c.createElement)(v.Path,{d:"M21,5c-1.11-0.35-2.33-0.5-3.5-0.5c-1.95,0-4.05,0.4-5.5,1.5c-1.45-1.1-3.55-1.5-5.5-1.5S2.45,4.9,1,6v14.65 c0,0.25,0.25,0.5,0.5,0.5c0.1,0,0.15-0.05,0.25-0.05C3.1,20.45,5.05,20,6.5,20c1.95,0,4.05,0.4,5.5,1.5c1.35-0.85,3.8-1.5,5.5-1.5 c1.65,0,3.35,0.3,4.75,1.05c0.1,0.05,0.15,0.05,0.25,0.05c0.25,0,0.5-0.25,0.5-0.5V6C22.4,5.55,21.75,5.25,21,5z M21,18.5 c-1.1-0.35-2.3-0.5-3.5-0.5c-1.7,0-4.15,0.65-5.5,1.5V8c1.35-0.85,3.8-1.5,5.5-1.5c1.2,0,2.4,0.15,3.5,0.5V18.5z"}),(0,c.createElement)("g",null,(0,c.createElement)(v.Path,{d:"M17.5,10.5c0.88,0,1.73,0.09,2.5,0.26V9.24C19.21,9.09,18.36,9,17.5,9c-1.7,0-3.24,0.29-4.5,0.83v1.66 C14.13,10.85,15.7,10.5,17.5,10.5z"}),(0,c.createElement)(v.Path,{d:"M13,12.49v1.66c1.13-0.64,2.7-0.99,4.5-0.99c0.88,0,1.73,0.09,2.5,0.26V11.9c-0.79-0.15-1.64-0.24-2.5-0.24 C15.8,11.66,14.26,11.96,13,12.49z"}),(0,c.createElement)(v.Path,{d:"M17.5,14.33c-1.7,0-3.24,0.29-4.5,0.83v1.66c1.13-0.64,2.7-0.99,4.5-0.99c0.88,0,1.73,0.09,2.5,0.26v-1.52 C19.21,14.41,18.36,14.33,17.5,14.33z"}))))),g.mini=(0,c.createElement)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},(0,c.createElement)("path",{d:"M30 24v2H2.429v-2h27.57zm0-10v2H2.429v-2h27.57zm0-10v2H2.429V4h27.57z",fillRule:"nonzero"}),(0,c.createElement)("path",{fill:"#919191",fillRule:"nonzero",d:"M2.429 7h24.043v3H2.429zM2.429 17h24.043v3H2.429zM2.429 27h24.043v3H2.429z"})),g.list=(0,c.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",clipRule:"evenodd",viewBox:"0 0 32 32"},(0,c.createElement)("path",{d:"M30 24v2H10v-2h20zm0-10v2H10v-2h20zm0-10v2H10V4h20z"}),(0,c.createElement)("circle",{cx:"4.773",cy:"7",r:"3"}),(0,c.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(0 10)"}),(0,c.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(0 20)"}),(0,c.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z"}),(0,c.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"translate(0 10)"}),(0,c.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"translate(0 20)"})),g.cards=(0,c.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",clipRule:"evenodd",viewBox:"0 0 32 32"}," ",(0,c.createElement)("path",{fill:"#E5E5E5",d:"M2.274 1.794H10.702000000000002V16.772H2.274z",transform:"matrix(1.52569 0 0 1.59368 -1.304 1.206)"})," ",(0,c.createElement)("path",{d:"M10 24H30V26H10z",transform:"matrix(.4577 0 0 .96245 -.566 -6.375)"})," ",(0,c.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(1.306 -.773) scale(1.52569)"})," ",(0,c.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"matrix(.55574 0 0 1.52569 -1.546 10.482)"})," ",(0,c.createElement)("path",{fill:"#E5E5E5",d:"M2.274 1.794H10.702000000000002V16.772H2.274z",transform:"matrix(1.52569 0 0 1.59368 13.507 1.206)"})," ",(0,c.createElement)("path",{d:"M10 24H30V26H10z",transform:"matrix(.4577 0 0 .96245 14.245 -6.375)"})," ",(0,c.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(16.117 -.773) scale(1.52569)"})," ",(0,c.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"matrix(.55574 0 0 1.52569 13.265 10.482)"})," ");var p=g,b=e=>{const{attributes:{limit:t,columnsSmall:n,columnsMedium:l,columnsLarge:a,showImages:o,style:r,scope:s,showCategory:i,showLocation:d,excerptLength:h,selectedCategory:g,selectedLocation:b,order:_,showAudience:f,showSpeaker:y,showTagFilter:w,showCategoryFilter:E,showSearch:C,filterStyle:x,filterPosition:k},tagList:S,categoryList:L,tagsFieldValue:N,locationList:P,tagNames:T,setAttributes:H}=e,I=[{value:"",label:(0,m.__)("Don't show","events")},{value:"name",label:(0,m.__)("Name","events")},{value:"city",label:(0,m.__)("City","events")},{value:"country",label:(0,m.__)("Country","events")},{value:"state",label:(0,m.__)("State","events")}],M=[{value:"",label:(0,m.__)("Don't show","events")},{value:"name",label:(0,m.__)("Name only","events")},{value:"image",label:(0,m.__)("Name and image","events")}],z=[{value:"future",label:(0,m.__)("Future","events")},{value:"past",label:(0,m.__)("Past","events")},{value:"today",label:(0,m.__)("Today","events")},{value:"tomorrow",label:(0,m.__)("Tomorrow","events")},{value:"month",label:(0,m.__)("This month","events")},{value:"next-month",label:(0,m.__)("Next month","events")}],V=[{value:"ASC",label:(0,m.__)("Ascending","events")},{value:"DESC",label:(0,m.__)("Descending","events")}];return(0,c.createElement)(u.InspectorControls,null,(0,c.createElement)(v.PanelBody,{title:(0,m.__)("Data","events"),initialOpen:!0},(0,c.createElement)(v.SelectControl,{multiple:!0,label:(0,m.__)("Category","events"),value:g,options:L,onChange:e=>{H({selectedCategory:e})}}),(0,c.createElement)(v.FormTokenField,{label:(0,m.__)("Tags","events"),value:N,suggestions:T,onChange:e=>{let t=[];e.map((e=>{const n=S.find((t=>t.name===e));void 0!==n&&t.push(n.id)})),H({selectedTags:t})},__experimentalExpandOnFocus:!0}),(0,c.createElement)(v.SelectControl,{label:(0,m.__)("Location","events"),value:b,options:P,onChange:e=>{H({selectedLocation:parseInt(e)})}}),(0,c.createElement)(v.SelectControl,{label:(0,m.__)("Scope","events"),value:s,options:z,onChange:e=>{H({scope:e})}}),(0,c.createElement)(v.SelectControl,{label:(0,m.__)("Sorting","events"),value:_,options:V,onChange:e=>{H({order:e})}}),(0,c.createElement)(v.RangeControl,{label:(0,m.__)("Limit","events"),max:100,min:1,value:t,onChange:e=>{H({limit:e})}})),(0,c.createElement)(v.PanelBody,{title:(0,m.__)("Filter","events")},(0,c.createElement)(v.CheckboxControl,{label:(0,m.__)("Show category filter","events"),checked:E,onChange:e=>H({showCategoryFilter:e})}),(0,c.createElement)(v.CheckboxControl,{label:(0,m.__)("Show tag filter","events"),checked:w,onChange:e=>H({showTagFilter:e})}),(0,c.createElement)(v.CheckboxControl,{label:(0,m.__)("Show search bar","events"),checked:C,onChange:e=>H({showSearch:e})}),(0,c.createElement)(v.RadioControl,{label:(0,m.__)("Position","events"),help:(0,m.__)("May not apply on mobile phones","events"),options:[{label:(0,m.__)("Top","events"),value:"top"},{label:(0,m.__)("Side","events"),value:"side"}],selected:k,onChange:e=>H({filterPosition:e})})),(0,c.createElement)(v.PanelBody,{title:(0,m.__)("Design","events"),initialOpen:!1},(0,c.createElement)(v.RangeControl,{label:(0,m.__)("Columns on small screens","events"),max:6,min:1,help:(0,m.__)("ex. Smartphones","events"),onChange:e=>{H({columnsSmall:e})},value:n}),(0,c.createElement)(v.RangeControl,{label:(0,m.__)("Columns on medium screens","events"),max:6,min:1,help:(0,m.__)("Tablets and smaller screens","events"),onChange:e=>{H({columnsMedium:e})},value:l}),(0,c.createElement)(v.RangeControl,{label:(0,m.__)("Columns on large screens","events"),max:6,min:1,help:(0,m.__)("Desktop screens","events"),onChange:e=>{H({columnsLarge:e})},value:a})),(0,c.createElement)(v.PanelBody,{title:(0,m.__)("Appearance","events"),initialOpen:!0},(0,c.createElement)("label",{className:"components-base-control__label",htmlFor:"inspector-range-control-4"},(0,m.__)("Style","events")),(0,c.createElement)("br",null),(0,c.createElement)("div",{className:"styleSelector"},(0,c.createElement)(v.Button,{onClick:()=>H({style:"mini"}),className:"mini"==r?"active":""},(0,c.createElement)(v.Icon,{size:"64",className:"icon",icon:p.mini}),(0,c.createElement)("div",null,(0,m.__)("Minimal","events"))),(0,c.createElement)(v.Button,{onClick:()=>H({style:"list"}),className:"list"==r?"active":""},(0,c.createElement)(v.Icon,{size:"64",className:"icon",icon:p.list}),(0,c.createElement)("div",null,(0,m.__)("List","events"))),(0,c.createElement)(v.Button,{onClick:()=>H({style:"cards"}),className:"cards"==r?"active":""},(0,c.createElement)(v.Icon,{size:"64",className:"icon",icon:p.cards}),(0,c.createElement)("div",null,(0,m.__)("Cards","events")))),(0,c.createElement)(v.SelectControl,{label:(0,m.__)("Location","events"),value:d,options:I,onChange:e=>{H({showLocation:e})}}),(0,c.createElement)(v.SelectControl,{label:(0,m.__)("Show Speaker","events"),value:y,options:M,onChange:e=>{H({showSpeaker:e})}}),(0,c.createElement)(v.RangeControl,{label:(0,m.__)("Length of preview text","events"),max:200,min:0,help:(0,m.__)("Number of words","events"),onChange:e=>{H({excerptLength:e})},value:h}),(0,c.createElement)(v.PanelRow,null,(0,c.createElement)(v.CheckboxControl,{label:(0,m.__)("Show audience","events"),checked:f,onChange:e=>H({showAudience:e})})),(0,c.createElement)(v.PanelRow,null,(0,c.createElement)(v.CheckboxControl,{label:(0,m.__)("Show image","events"),checked:o,onChange:e=>H({showImages:e})})),(0,c.createElement)(v.PanelRow,null,(0,c.createElement)(v.CheckboxControl,{label:(0,m.__)("Show category","events"),checked:i,onChange:e=>H({showCategory:e})}))))},_=JSON.parse('{"name":"events-manager/upcoming","title":"Upcoming Events","description":"Shows a list or cards of upcoming events","text-domain":"events-manager","apiVersion":2,"category":"widgets","attributes":{"columnsSmall":{"type":"number","default":1},"columnsMedium":{"type":"number","default":2},"columnsLarge":{"type":"number","default":3},"showImages":{"type":"boolean","default":true},"roundImages":{"type":"boolean","default":false},"imageSize":{"type":"number","default":100},"showCategory":{"type":"boolean","default":true},"showLocation":{"type":"string","default":""},"style":{"type":"string","default":"cards"},"limit":{"type":"number","default":12},"order":{"type":"string","default":"ASC"},"selectedCategory":{"type":"array","default":[]},"selectedLocation":{"type":"number","default":0},"selectedTags":{"type":"array","default":[]},"excerptLength":{"type":"number","default":20},"textAlignment":{"type":"string","default":"left"},"showAudience":{"type":"boolean","default":false},"showSpeaker":{"type":"string","default":""},"showCategoryFilter":{"type":"boolean","default":false},"showTagFilter":{"type":"boolean","default":false},"showSearch":{"type":"boolean","default":false},"filterStyle":{"type":"string","default":"pills"},"filterPosition":{"type":"string","default":"top"},"scope":{"type":"string","default":"future"}}}');const{name:f,title:y}=_,w={..._,title:(0,m.__)(y,"ctx-blocks"),icon:p.posts,edit:e=>{const{attributes:{columnsLarge:t,showImages:n,style:l,textAlignment:a,selectedCategory:o,roundImages:r,selectedTags:s},setAttributes:v}=e,g=(0,d.useSelect)((e=>{const{getEntityRecords:t}=e(h.store),n=t("taxonomy","event-categories",{hide_empty:!0});let l=[{value:0,label:""}];return n?(n.map((e=>{l.push({value:e.id,label:e.name})})),l):l}),[]),p=(0,d.useSelect)((e=>{const{getEntityRecords:t}=e(h.store);return t("taxonomy","event-tags",{hide_empty:!0})||null}),[]),_=(0,d.useSelect)((e=>{const{getEntityRecords:t}=e(h.store),n=t("postType","location",{per_page:-1});let l=[{value:0,label:""}];return n?(n.map((e=>{l.push({value:e.location_id,label:e.title.raw})})),l):l}),[]);let f=[],y=[];null!==p&&(f=p.map((e=>e.name)),y=s.map((e=>{let t=p.find((t=>t.id===e));return!(void 0===t||!t)&&t.name})));const w=(0,u.useBlockProps)({className:["columns-"+t,!!n&&"hasImage","style-"+l,"text-"+a,!!r&&"round-images"].filter(Boolean).join(" ")});return(0,c.createElement)(c.Fragment,null,(0,c.createElement)(b,i({},e,{tagList:p,categoryList:g,tagsFieldValue:y,tagNames:f,locationList:_})),(0,c.createElement)(u.BlockControls,null,(0,c.createElement)(u.AlignmentToolbar,{value:a,onChange:e=>v({textAlignment:e})})),(0,c.createElement)("div",w,(0,c.createElement)("div",{className:"components-placeholder is-large"},(0,c.createElement)("div",{className:"components-placeholder__label"},(0,m.__)("Upcoming Events","events")),(0,c.createElement)("div",{className:"components-placeholder__instructions"},(0,m.__)("See for settings in the inspector. The result can be seen in the frontend","events")))))},save:()=>null};var E=e=>{const{attributes:{limit:t,columnsSmall:n,columnsMedium:l,columnsLarge:a,showImages:o,dropShadow:r,style:s,showCategory:i,showLocation:d,roundImages:h,excerptLength:g,selectedCategory:p,selectedLocation:b,fromDate:_,toDate:f,order:y,showAudience:w,showSpeaker:E},tagList:C,categoryList:x,tagsFieldValue:k,locationList:S,tagNames:L,setAttributes:N}=e,P=[{value:"",label:(0,m.__)("","events")},{value:"city",label:(0,m.__)("City","events")},{value:"name",label:(0,m.__)("Name","events")}];return(0,m.__)("Ascending","events"),(0,m.__)("Descending","events"),(0,c.createElement)(u.InspectorControls,null,(0,c.createElement)(v.PanelBody,{title:(0,m.__)("Data","events"),initialOpen:!0},(0,c.createElement)(v.SelectControl,{label:(0,m.__)("Category","events"),value:p,options:x,onChange:e=>{N({selectedCategory:e})}}),(0,c.createElement)(v.FormTokenField,{label:(0,m.__)("Tags","events"),value:k,suggestions:L,onChange:e=>{let t=[];e.map((e=>{const n=C.find((t=>t.name===e));void 0!==n&&t.push(n.id)})),N({selectedTags:t})},__experimentalExpandOnFocus:!0}),(0,c.createElement)(v.SelectControl,{label:(0,m.__)("Location","events"),value:b,options:S,onChange:e=>{N({selectedLocation:e})}})),(0,c.createElement)(v.PanelBody,{title:(0,m.__)("Appearance","events"),initialOpen:!0},(0,c.createElement)(v.PanelRow,null,(0,c.createElement)(v.ToggleControl,{label:(0,m.__)("Drop shadow","events"),checked:r,onChange:e=>N({dropShadow:e})})),(0,c.createElement)(v.PanelRow,null,(0,c.createElement)(v.SelectControl,{label:(0,m.__)("Location","events"),value:d,options:P,onChange:e=>{N({showLocation:e})}})),(0,c.createElement)(v.RangeControl,{label:(0,m.__)("Length of preview text","events"),max:200,min:0,help:(0,m.__)("Number of words","events"),onChange:e=>{N({excerptLength:e})},value:g}),(0,c.createElement)(v.PanelRow,null,(0,c.createElement)(v.CheckboxControl,{label:(0,m.__)("Show Audience","events"),checked:w,onChange:e=>N({showAudience:e})})),(0,c.createElement)(v.PanelRow,null,(0,c.createElement)(v.CheckboxControl,{label:(0,m.__)("Show Speaker","events"),checked:E,onChange:e=>N({showSpeaker:e})})),(0,c.createElement)(v.PanelRow,null,(0,c.createElement)(v.CheckboxControl,{label:(0,m.__)("Show category","events"),checked:i,onChange:e=>N({showCategory:e})}))))},C=(0,c.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,c.createElement)(v.Path,{d:"M0 0h24v24H0z",fill:"none"}),(0,c.createElement)(v.Path,{d:"M16.53 11.06L15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"})),x=JSON.parse('{"name":"events-manager/featured","apiVersion":2,"title":"Featured","category":"widgets","attributes":{"dropShadow":{"type":"boolean","default":false},"eventId":{"type":"number","default":100},"showCategory":{"type":"boolean","default":true},"showLocation":{"type":"string","default":""},"selectedCategory":{"type":"number","default":0},"selectedTags":{"type":"array","default":[]},"excerptLength":{"type":"number","default":20},"textAlignment":{"type":"string","default":"left"},"showAudience":{"type":"boolean","default":false},"showSpeaker":{"type":"boolean","default":false},"showImage":{"type":"boolean","default":true},"isRootElement":{"type":"boolean","default":false}}}');const{name:k,title:S}=x,L={...x,title:(0,m.__)(S,"ctx-blocks"),icon:C,edit:e=>{const{attributes:{columnsLarge:t,showImages:n,dropShadow:l,style:a,selectedCategory:o,isRootElement:r,textAlignment:s,roundImages:v,selectedTags:g},setAttributes:p}=e,b=(0,d.select)("core/block-editor").getBlockHierarchyRootClientId(e.clientId);p({isRootElement:b==e.clientId});const _=(0,d.useSelect)((e=>{const{getEntityRecords:t}=e(h.store),n=t("taxonomy","event-categories",{hide_empty:!0});let l=[{value:0,label:""}];return n?(n.map((e=>{l.push({value:e.id,label:e.name})})),l):l}),[]),f=(0,d.useSelect)((e=>{const{getEntityRecords:t}=e(h.store);return t("taxonomy","event-tags",{hide_empty:!0})||null}),[]),y=(0,d.useSelect)((e=>{const{getEntityRecords:t}=e(h.store),n=t("postType","location",{per_page:-1});let l=[{value:0,label:""}];return n?(n.map((e=>{l.push({value:e.id,label:e.title.raw})})),l):l}),[]),w=(0,d.useSelect)((e=>{const{getEntityRecords:t}=e(h.store);let n={};0!==o&&(n["event-categories"]=o),g!==[]&&(n["event-tags"]=g);const l=t("postType","event",n);if(!l)return!1;let a=l[0];l.forEach((e=>{let t=new Date(a.meta._event_start_date);new Date(e.meta._event_start_date)>t&&(a=e)}));const r=t("postType","attachment",{include:[a.featured_media]});return r&&(a.image=r[0].media_details.sizes.large.source_url),a}),[o,g]);let C=[],x=[];null!==f&&(C=f.map((e=>e.name)),x=g.map((e=>{let t=f.find((t=>t.id===e));return!(void 0===t||!t)&&t.name})));const k=(0,u.useBlockProps)({className:["ctx-featured-event",!!r&&"is-root",!!l&&"hover","style-"+a,"text-"+s,!!v&&"round-images"].filter(Boolean).join(" ")});return(0,c.createElement)(c.Fragment,null,(0,c.createElement)(E,i({},e,{tagList:f,categoryList:_,tagsFieldValue:x,tagNames:C,locationList:y})),(0,c.createElement)(u.BlockControls,null,(0,c.createElement)(u.AlignmentToolbar,{value:s,onChange:e=>p({textAlignment:e})})),(0,c.createElement)("div",null,w&&(0,c.createElement)("div",i({},k,{style:{backgroundImage:`url(${w.image})`}}),(0,c.createElement)("div",{className:"overlay"},(0,c.createElement)("h1",null,w.title.raw),(0,c.createElement)("p",null,w.excerpt.raw),(0,c.createElement)("p",null,w.meta._event_start_date))),!w&&(0,c.createElement)("h2",null,(0,m.__)("No events found","events-manager"))))},save:()=>null};var N=e=>{const{attributes:{showLocation:t,showAudience:n,showDate:l,showTime:a,showSpeaker:o,showPrice:r,audienceDescription:s,audienceIcon:i,locationLink:d,speakerDescription:h,priceOverwrite:g,speakerIcon:p,speakerLink:b},setAttributes:_}=e;return(0,c.createElement)(u.InspectorControls,null,(0,c.createElement)(v.PanelBody,{title:(0,m.__)("Audience","events"),initialOpen:!0},(0,c.createElement)(v.ToggleControl,{label:(0,m.__)("Show Audience","events"),checked:n,onChange:e=>_({showAudience:e})}),(0,c.createElement)(v.TextControl,{disabled:!n,label:(0,m.__)("Description","events"),help:(0,m.__)("If empty, default description is shown"),value:s,onChange:e=>_({audienceDescription:e})}),(0,c.createElement)(v.SelectControl,{disabled:!n,label:(0,m.__)("Icon","events"),value:i,options:[{value:"users",label:"People"},{value:"male",label:"Male"},{value:"female",label:"Female"}],onChange:e=>_({audienceIcon:e})})),(0,c.createElement)(v.PanelBody,{title:(0,m.__)("Location","events"),initialOpen:!0},(0,c.createElement)(v.ToggleControl,{label:(0,m.__)("Show Location","events"),checked:t,onChange:e=>_({showLocation:e})}),(0,c.createElement)(v.CheckboxControl,{disabled:!t,label:(0,m.__)("Add Link","events"),checked:d,onChange:e=>_({locationLink:e})})),(0,c.createElement)(v.PanelBody,{title:(0,m.__)("Date and Time","events"),initialOpen:!0},(0,c.createElement)(v.ToggleControl,{label:(0,m.__)("Show Date","events"),checked:l,onChange:e=>_({showDate:e})}),(0,c.createElement)(v.ToggleControl,{label:(0,m.__)("Show Time","events"),checked:a,onChange:e=>_({showTime:e})})),(0,c.createElement)(v.PanelBody,{title:(0,m.__)("Speaker","events"),initialOpen:!0},(0,c.createElement)(v.ToggleControl,{label:(0,m.__)("Show Speaker","events"),checked:o,onChange:e=>_({showSpeaker:e})}),(0,c.createElement)(v.TextControl,{disabled:!o,label:(0,m.__)("Description","events"),help:(0,m.__)("If empty, default description is shown"),value:h,onChange:e=>_({speakerDescription:e})}),(0,c.createElement)(v.SelectControl,{disabled:!o,label:(0,m.__)("Icon","events"),value:p,options:[{value:"",label:"Photo of speaker"},{value:"male",label:"Male"},{value:"female",label:"Female"}],onChange:e=>_({speakerIcon:e})}),(0,c.createElement)(v.CheckboxControl,{disabled:!o,label:(0,m.__)("Add email link","events"),checked:b,onChange:e=>_({speakerLink:e})})),(0,c.createElement)(v.PanelBody,{title:(0,m.__)("Price","events"),initialOpen:!0},(0,c.createElement)(v.ToggleControl,{label:(0,m.__)("Show Price","events"),checked:r,onChange:e=>_({showPrice:e})}),(0,c.createElement)(v.TextControl,{disabled:!r,label:(0,m.__)("Overwrite Price","events"),help:(0,m.__)("If empty, the first ticket's price is used"),value:g,onChange:e=>_({priceOverwrite:e})})))},P=(0,c.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,c.createElement)(v.Path,{d:"M0 0h24v24H0z",fill:"none"}),(0,c.createElement)(v.Path,{d:"M16.53 11.06L15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"})),T=JSON.parse('{"name":"events-manager/details","apiVersion":2,"title":"Details","category":"widgets","attributes":{"showLocation":{"type":"boolean","default":""},"showAudience":{"type":"boolean","default":true},"showSpeaker":{"type":"boolean","default":true},"showDate":{"type":"boolean","default":true},"showTime":{"type":"boolean","default":true},"showPrice":{"type":"boolean","default":true},"audienceDescription":{"type":"string","default":""},"audienceIcon":{"type":"string","default":"groups"},"locationLink":{"type":"boolean","default":true},"speakerDescription":{"type":"string","default":""},"speakerIcon":{"type":"string","default":""},"speakerLink":{"type":"boolean","default":true},"priceOverwrite":{"type":"string","default":""}}}');const{name:H,title:I}=T,M={...T,title:(0,m.__)(I,"ctx-blocks"),icon:P,edit:e=>{var t,n,l,a,o,r,s;const{attributes:{showLocation:i,showAudience:h,showDate:v,showTime:g,showSpeaker:p,showPrice:b,audienceIcon:_,audienceDescription:f,speakerIcon:y,priceOverwrite:w}}=e,[E,C]=(0,c.useState)(!1),x=(0,d.useSelect)((e=>e("core/editor").getCurrentPostId()),[]);(0,c.useEffect)((()=>{fetch("/wp-json/events/v2/events?post_id="+x).then((e=>e.json())).then((e=>C(e[0])))}),[]);const k=(0,u.useBlockProps)({className:["ctx:event-details"].filter(Boolean).join(" ")});return(0,c.createElement)("div",k,(0,c.createElement)(N,e),(0,c.createElement)("div",{className:"ctx:event-details__wrapper"},h&&(0,c.createElement)("div",{className:"ctx:event-details__item"},(0,c.createElement)("i",{className:"material-icons"},_),(0,c.createElement)("div",null,(0,c.createElement)("h5",null,null!=f?f:(0,m.__)("Audience","events")),null!==(t=E.audience)&&void 0!==t?t:(0,m.__)("no data"))),i&&(0,c.createElement)("div",{className:"ctx:event-details__item"},(0,c.createElement)("i",{className:"material-icons"},"place"),(0,c.createElement)("div",null,(0,c.createElement)("h5",null,(0,m.__)("Location","events")),null==E||null===(n=E.location)||void 0===n?void 0:n.address)),v&&(0,c.createElement)("div",{className:"ctx:event-details__item"},(0,c.createElement)("i",{className:"material-icons"},"today"),(0,c.createElement)("div",null,(0,c.createElement)("h5",null,(0,m.__)("Date","events")),(()=>{if(null!=E&&E.start)return function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var l;n||null===(l=window.eventBlockLocale)||void 0===l||l.lang,e=new Date(1e3*e),t=t||e,t=new Date(1e3*t);const a=e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate();let o={year:"numeric",month:"long",day:"numeric"};return a&&(o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}),new Intl.DateTimeFormat(n,o).formatRange(e,t)}(E.start,E.end)})())),g&&(0,c.createElement)("div",{className:"ctx:event-details__item"},(0,c.createElement)("i",{className:"material-icons"},"schedule"),(0,c.createElement)("div",null,(0,c.createElement)("h5",null,(0,m.__)("Time","events")),E.start)),p&&(0,c.createElement)("div",{className:"ctx:event-details__item"},""==y&&(0,c.createElement)("img",{className:"ctx:event-details__image",src:null===(l=E.speaker)||void 0===l||null===(a=l.image)||void 0===a||null===(o=a.sizes)||void 0===o||null===(r=o.thumbnail)||void 0===r?void 0:r.url})," ",""==!y&&(0,c.createElement)("i",{className:"material-icons"},y),(0,c.createElement)("div",null,(0,c.createElement)("h5",null,(0,m.__)("Speaker","events")),null==E||null===(s=E.speaker)||void 0===s?void 0:s.name)),b&&(0,c.createElement)("div",{className:"ctx:event-details__item"},(0,c.createElement)("i",{className:"material-icons"},"euro"),(0,c.createElement)("div",null,(0,c.createElement)("h5",null,(0,m.__)("Price","events")),null!=w?w:null==E?void 0:E.price))))},save:()=>null};var z={grad:.9,turn:360,rad:360/(2*Math.PI)},V=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},B=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},D=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},R=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},A=function(e){return{r:D(e.r,0,255),g:D(e.g,0,255),b:D(e.b,0,255),a:D(e.a)}},F=function(e){return{r:B(e.r),g:B(e.g),b:B(e.b),a:B(e.a,3)}},O=/^#([0-9a-f]{3,8})$/i,j=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},$=function(e){var t=e.r,n=e.g,l=e.b,a=e.a,o=Math.max(t,n,l),r=o-Math.min(t,n,l),s=r?o===t?(n-l)/r:o===n?2+(l-t)/r:4+(t-n)/r:0;return{h:60*(s<0?s+6:s),s:o?r/o*100:0,v:o/255*100,a:a}},G=function(e){var t=e.h,n=e.s,l=e.v,a=e.a;t=t/360*6,n/=100,l/=100;var o=Math.floor(t),r=l*(1-n),s=l*(1-(t-o)*n),i=l*(1-(1-t+o)*n),c=o%6;return{r:255*[l,s,r,r,i,l][c],g:255*[i,l,l,s,r,r][c],b:255*[r,r,i,l,l,s][c],a:a}},J=function(e){return{h:R(e.h),s:D(e.s,0,100),l:D(e.l,0,100),a:D(e.a)}},U=function(e){return{h:B(e.h),s:B(e.s),l:B(e.l),a:B(e.a,3)}},Y=function(e){return G((n=(t=e).s,{h:t.h,s:(n*=((l=t.l)<50?l:100-l)/100)>0?2*n/(l+n)*100:0,v:l+n,a:t.a}));var t,n,l},q=function(e){return{h:(t=$(e)).h,s:(a=(200-(n=t.s))*(l=t.v)/100)>0&&a<200?n*l/100/(a<=100?a:200-a)*100:0,l:a/2,a:t.a};var t,n,l,a},K=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Q=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,W=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,X=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Z={string:[[function(e){var t=O.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?B(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?B(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=W.exec(e)||X.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:A({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=K.exec(e)||Q.exec(e);if(!t)return null;var n,l,a=J({h:(n=t[1],l=t[2],void 0===l&&(l="deg"),Number(n)*(z[l]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return Y(a)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,l=e.b,a=e.a,o=void 0===a?1:a;return V(t)&&V(n)&&V(l)?A({r:Number(t),g:Number(n),b:Number(l),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,n=e.s,l=e.l,a=e.a,o=void 0===a?1:a;if(!V(t)||!V(n)||!V(l))return null;var r=J({h:Number(t),s:Number(n),l:Number(l),a:Number(o)});return Y(r)},"hsl"],[function(e){var t=e.h,n=e.s,l=e.v,a=e.a,o=void 0===a?1:a;if(!V(t)||!V(n)||!V(l))return null;var r=function(e){return{h:R(e.h),s:D(e.s,0,100),v:D(e.v,0,100),a:D(e.a)}}({h:Number(t),s:Number(n),v:Number(l),a:Number(o)});return G(r)},"hsv"]]},ee=function(e,t){for(var n=0;n<t.length;n++){var l=t[n][0](e);if(l)return[l,t[n][1]]}return[null,void 0]},te=function(e,t){var n=q(e);return{h:n.h,s:D(n.s+100*t,0,100),l:n.l,a:n.a}},ne=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},le=function(e,t){var n=q(e);return{h:n.h,s:n.s,l:D(n.l+100*t,0,100),a:n.a}},ae=function(){function e(e){this.parsed=function(e){return"string"==typeof e?ee(e.trim(),Z.string):"object"==typeof e&&null!==e?ee(e,Z.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return B(ne(this.rgba),2)},e.prototype.isDark=function(){return ne(this.rgba)<.5},e.prototype.isLight=function(){return ne(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=F(this.rgba)).r,n=e.g,l=e.b,o=(a=e.a)<1?j(B(255*a)):"","#"+j(t)+j(n)+j(l)+o;var e,t,n,l,a,o},e.prototype.toRgb=function(){return F(this.rgba)},e.prototype.toRgbString=function(){return t=(e=F(this.rgba)).r,n=e.g,l=e.b,(a=e.a)<1?"rgba("+t+", "+n+", "+l+", "+a+")":"rgb("+t+", "+n+", "+l+")";var e,t,n,l,a},e.prototype.toHsl=function(){return U(q(this.rgba))},e.prototype.toHslString=function(){return t=(e=U(q(this.rgba))).h,n=e.s,l=e.l,(a=e.a)<1?"hsla("+t+", "+n+"%, "+l+"%, "+a+")":"hsl("+t+", "+n+"%, "+l+"%)";var e,t,n,l,a},e.prototype.toHsv=function(){return e=$(this.rgba),{h:B(e.h),s:B(e.s),v:B(e.v),a:B(e.a,3)};var e},e.prototype.invert=function(){return oe({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),oe(te(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),oe(te(this.rgba,-e))},e.prototype.grayscale=function(){return oe(te(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),oe(le(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),oe(le(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?oe({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):B(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=q(this.rgba);return"number"==typeof e?oe({h:e,s:t.s,l:t.l,a:t.a}):B(t.h)},e.prototype.isEqual=function(e){return this.toHex()===oe(e).toHex()},e}(),oe=function(e){return e instanceof ae?e:new ae(e)},re=e=>{const{buttonColor:t,setButtonColor:n}=e;return(0,c.createElement)(u.InspectorControls,null,(0,c.createElement)(u.PanelColorSettings,{title:(0,m.__)("Color Settings","ctx-blocks"),colorSettings:[{label:(0,m.__)("Set a background color for the button","ctx-blocks"),onChange:n,value:t.color,disableCustomColors:!0}]}))},se=(0,c.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,c.createElement)(v.Path,{d:"M0 0h24v24H0z",fill:"none"}),(0,c.createElement)(v.Path,{d:"M16.53 11.06L15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"})),ie=JSON.parse('{"name":"events-manager/booking","apiVersion":2,"title":"Booking","category":"widgets","attributes":{"buttonTitle":{"type":"string","default":""},"buttonColor":{"type":"string","default":"primary"}}}');const{name:ce,title:ue}=ie,me={...ie,title:(0,m.__)(ue,"ctx-blocks"),icon:se,edit:(0,u.withColors)({buttonColor:"buttonColor"})((e=>{const{attributes:{buttonTitle:t},setAttributes:n,buttonColor:l}=e,a=(0,u.useBlockProps)({className:["ctx-event-booking"].filter(Boolean).join(" ")}),o=null==l.color||oe(l.color).isLight()?"#000000":"#ffffff",r={background:l.color,color:o};return(0,c.createElement)("div",a,(0,c.createElement)(re,e),(0,c.createElement)("span",{style:r,className:"ctx-button"},(0,c.createElement)(u.RichText,{tagName:"span",value:t,onChange:e=>n({buttonTitle:e}),placeholder:(0,m.__)("Button title","ctx-blocks"),allowedFormats:["core/bold","core/italic"]})))})),save:()=>null};[l,a,o,r].forEach((e=>{if(!e)return;const{name:t,settings:n}=e;(0,s.registerBlockType)(t,n)}))}(0,0,e)}();