!function(){"use strict";var e={d:function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{name:function(){return b},settings:function(){return f}});var n={};e.r(n),e.d(n,{name:function(){return C},settings:function(){return x}});var a={};e.r(a),e.d(a,{name:function(){return T},settings:function(){return H}});var l={};e.r(l),e.d(l,{name:function(){return ie},settings:function(){return de}});var o=window.wp.blocks;function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}var s=window.wp.element,i=window.wp.blockEditor,c=window.wp.i18n,u=window.wp.data,d=window.wp.coreData,m=window.wp.components;let h=[];h.posts=(0,s.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24",viewBox:"0 0 24 24",width:"24"},(0,s.createElement)("g",null,(0,s.createElement)("rect",{fill:"none",height:"24",width:"24"})),(0,s.createElement)("g",null,(0,s.createElement)("g",null),(0,s.createElement)("g",null,(0,s.createElement)(m.Path,{d:"M21,5c-1.11-0.35-2.33-0.5-3.5-0.5c-1.95,0-4.05,0.4-5.5,1.5c-1.45-1.1-3.55-1.5-5.5-1.5S2.45,4.9,1,6v14.65 c0,0.25,0.25,0.5,0.5,0.5c0.1,0,0.15-0.05,0.25-0.05C3.1,20.45,5.05,20,6.5,20c1.95,0,4.05,0.4,5.5,1.5c1.35-0.85,3.8-1.5,5.5-1.5 c1.65,0,3.35,0.3,4.75,1.05c0.1,0.05,0.15,0.05,0.25,0.05c0.25,0,0.5-0.25,0.5-0.5V6C22.4,5.55,21.75,5.25,21,5z M21,18.5 c-1.1-0.35-2.3-0.5-3.5-0.5c-1.7,0-4.15,0.65-5.5,1.5V8c1.35-0.85,3.8-1.5,5.5-1.5c1.2,0,2.4,0.15,3.5,0.5V18.5z"}),(0,s.createElement)("g",null,(0,s.createElement)(m.Path,{d:"M17.5,10.5c0.88,0,1.73,0.09,2.5,0.26V9.24C19.21,9.09,18.36,9,17.5,9c-1.7,0-3.24,0.29-4.5,0.83v1.66 C14.13,10.85,15.7,10.5,17.5,10.5z"}),(0,s.createElement)(m.Path,{d:"M13,12.49v1.66c1.13-0.64,2.7-0.99,4.5-0.99c0.88,0,1.73,0.09,2.5,0.26V11.9c-0.79-0.15-1.64-0.24-2.5-0.24 C15.8,11.66,14.26,11.96,13,12.49z"}),(0,s.createElement)(m.Path,{d:"M17.5,14.33c-1.7,0-3.24,0.29-4.5,0.83v1.66c1.13-0.64,2.7-0.99,4.5-0.99c0.88,0,1.73,0.09,2.5,0.26v-1.52 C19.21,14.41,18.36,14.33,17.5,14.33z"}))))),h.mini=(0,s.createElement)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},(0,s.createElement)("path",{d:"M30 24v2H2.429v-2h27.57zm0-10v2H2.429v-2h27.57zm0-10v2H2.429V4h27.57z",fillRule:"nonzero"}),(0,s.createElement)("path",{fill:"#919191",fillRule:"nonzero",d:"M2.429 7h24.043v3H2.429zM2.429 17h24.043v3H2.429zM2.429 27h24.043v3H2.429z"})),h.list=(0,s.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",clipRule:"evenodd",viewBox:"0 0 32 32"},(0,s.createElement)("path",{d:"M30 24v2H10v-2h20zm0-10v2H10v-2h20zm0-10v2H10V4h20z"}),(0,s.createElement)("circle",{cx:"4.773",cy:"7",r:"3"}),(0,s.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(0 10)"}),(0,s.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(0 20)"}),(0,s.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z"}),(0,s.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"translate(0 10)"}),(0,s.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"translate(0 20)"})),h.cards=(0,s.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",clipRule:"evenodd",viewBox:"0 0 32 32"}," ",(0,s.createElement)("path",{fill:"#E5E5E5",d:"M2.274 1.794H10.702000000000002V16.772H2.274z",transform:"matrix(1.52569 0 0 1.59368 -1.304 1.206)"})," ",(0,s.createElement)("path",{d:"M10 24H30V26H10z",transform:"matrix(.4577 0 0 .96245 -.566 -6.375)"})," ",(0,s.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(1.306 -.773) scale(1.52569)"})," ",(0,s.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"matrix(.55574 0 0 1.52569 -1.546 10.482)"})," ",(0,s.createElement)("path",{fill:"#E5E5E5",d:"M2.274 1.794H10.702000000000002V16.772H2.274z",transform:"matrix(1.52569 0 0 1.59368 13.507 1.206)"})," ",(0,s.createElement)("path",{d:"M10 24H30V26H10z",transform:"matrix(.4577 0 0 .96245 14.245 -6.375)"})," ",(0,s.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(16.117 -.773) scale(1.52569)"})," ",(0,s.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"matrix(.55574 0 0 1.52569 13.265 10.482)"})," ");var v=h,p=e=>{var t;const{attributes:{limit:n,columnsSmall:a,columnsMedium:l,columnsLarge:o,showImages:r,style:u,scope:d,showCategory:h,showLocation:p,excerptLength:g,selectedCategory:b,selectedLocation:_,order:f,showAudience:w,showSpeaker:y,showTagFilter:E,showCategoryFilter:C,showSearch:k,filterPosition:x,showBookedUp:S,bookedUpWarningThreshold:N,excludeCurrent:L},tagList:T,categoryList:I,tagsFieldValue:P,locationList:H,tagNames:V,setAttributes:B}=e,M=null===(t=window.eventBlocksLocalization)||void 0===t?void 0:t.post_type,Q=[{value:"",label:(0,c.__)("Don't show","events")},{value:"name",label:(0,c.__)("Name","events")},{value:"city",label:(0,c.__)("City","events")},{value:"country",label:(0,c.__)("Country","events")},{value:"state",label:(0,c.__)("State","events")}],R=[{value:"",label:(0,c.__)("Don't show","events")},{value:"name",label:(0,c.__)("Name only","events")},{value:"image",label:(0,c.__)("Name and image","events")}],z=[{value:"future",label:(0,c.__)("Future","events")},{value:"past",label:(0,c.__)("Past","events")},{value:"today",label:(0,c.__)("Today","events")},{value:"tomorrow",label:(0,c.__)("Tomorrow","events")},{value:"month",label:(0,c.__)("This month","events")},{value:"next-month",label:(0,c.__)("Next month","events")}],D=[{value:"ASC",label:(0,c.__)("Ascending","events")},{value:"DESC",label:(0,c.__)("Descending","events")}];return(0,s.createElement)(i.InspectorControls,null,(0,s.createElement)(m.PanelBody,{title:(0,c.__)("Data","events"),initialOpen:!0},(0,s.createElement)(m.SelectControl,{multiple:!0,label:(0,c.__)("Category","events"),value:b,options:I,onChange:e=>{B({selectedCategory:e})}}),(0,s.createElement)(m.FormTokenField,{label:(0,c.__)("Tags","events"),value:P,suggestions:V,onChange:e=>{let t=[];e.map((e=>{const n=T.find((t=>t.name===e));void 0!==n&&t.push(n.id)})),B({selectedTags:t})},__experimentalExpandOnFocus:!0}),(0,s.createElement)(m.SelectControl,{label:(0,c.__)("Location","events"),value:_,options:H,onChange:e=>{B({selectedLocation:parseInt(e)})}}),(0,s.createElement)(m.SelectControl,{label:(0,c.__)("Scope","events"),value:d,options:z,onChange:e=>{B({scope:e})}}),(0,s.createElement)(m.SelectControl,{label:(0,c.__)("Sorting","events"),value:f,options:D,onChange:e=>{B({order:e})}}),(0,s.createElement)(m.RangeControl,{label:(0,c.__)("Limit","events"),max:100,min:1,value:n,onChange:e=>{B({limit:e})}}),"event"===M&&(0,s.createElement)(m.CheckboxControl,{label:(0,c.__)("Exclude current event","events"),checked:L,onChange:e=>B({excludeCurrent:e}),help:(0,c.__)("If applicable, exclude the current event from the list","events")})),(0,s.createElement)(m.PanelBody,{title:(0,c.__)("Filter","events")},(0,s.createElement)(m.CheckboxControl,{label:(0,c.__)("Show category filter","events"),checked:C,onChange:e=>B({showCategoryFilter:e})}),(0,s.createElement)(m.CheckboxControl,{label:(0,c.__)("Show tag filter","events"),checked:E,onChange:e=>B({showTagFilter:e})}),(0,s.createElement)(m.CheckboxControl,{label:(0,c.__)("Show search bar","events"),checked:k,onChange:e=>B({showSearch:e})}),(0,s.createElement)(m.RadioControl,{label:(0,c.__)("Position","events"),help:(0,c.__)("May not apply on mobile phones","events"),options:[{label:(0,c.__)("Top","events"),value:"top"},{label:(0,c.__)("Side","events"),value:"side"}],selected:x,onChange:e=>B({filterPosition:e})})),(0,s.createElement)(m.PanelBody,{title:(0,c.__)("Design","events"),initialOpen:!1},(0,s.createElement)(m.RangeControl,{label:(0,c.__)("Columns on small screens","events"),max:6,min:1,help:(0,c.__)("ex. Smartphones","events"),onChange:e=>{B({columnsSmall:e})},value:a}),(0,s.createElement)(m.RangeControl,{label:(0,c.__)("Columns on medium screens","events"),max:6,min:1,help:(0,c.__)("Tablets and smaller screens","events"),onChange:e=>{B({columnsMedium:e})},value:l}),(0,s.createElement)(m.RangeControl,{label:(0,c.__)("Columns on large screens","events"),max:6,min:1,help:(0,c.__)("Desktop screens","events"),onChange:e=>{B({columnsLarge:e})},value:o})),(0,s.createElement)(m.PanelBody,{title:(0,c.__)("Appearance","events"),initialOpen:!0},(0,s.createElement)("label",{className:"components-base-control__label",htmlFor:"inspector-range-control-4"},(0,c.__)("Style","events")),(0,s.createElement)("br",null),(0,s.createElement)("div",{className:"styleSelector"},(0,s.createElement)(m.Button,{onClick:()=>B({style:"mini"}),className:"mini"==u?"active":""},(0,s.createElement)(m.Icon,{size:"64",className:"icon",icon:v.mini}),(0,s.createElement)("div",null,(0,c.__)("Minimal","events"))),(0,s.createElement)(m.Button,{onClick:()=>B({style:"list"}),className:"list"==u?"active":""},(0,s.createElement)(m.Icon,{size:"64",className:"icon",icon:v.list}),(0,s.createElement)("div",null,(0,c.__)("List","events"))),(0,s.createElement)(m.Button,{onClick:()=>B({style:"cards"}),className:"cards"==u?"active":""},(0,s.createElement)(m.Icon,{size:"64",className:"icon",icon:v.cards}),(0,s.createElement)("div",null,(0,c.__)("Cards","events")))),(0,s.createElement)(m.SelectControl,{label:(0,c.__)("Location","events"),value:p,options:Q,onChange:e=>{B({showLocation:e})}}),(0,s.createElement)(m.SelectControl,{label:(0,c.__)("Show Speaker","events"),value:y,options:R,onChange:e=>{B({showSpeaker:e})}}),(0,s.createElement)(m.RangeControl,{label:(0,c.__)("Length of preview text","events"),max:200,min:0,help:(0,c.__)("Number of words","events"),onChange:e=>{B({excerptLength:e})},value:g}),(0,s.createElement)(m.PanelRow,null,(0,s.createElement)(m.CheckboxControl,{label:(0,c.__)("Show audience","events"),checked:w,onChange:e=>B({showAudience:e})})),(0,s.createElement)(m.PanelRow,null,(0,s.createElement)(m.CheckboxControl,{label:(0,c.__)("Show image","events"),checked:r,onChange:e=>B({showImages:e})})),(0,s.createElement)(m.PanelRow,null,(0,s.createElement)(m.CheckboxControl,{label:(0,c.__)("Show category","events"),checked:h,onChange:e=>B({showCategory:e})})),(0,s.createElement)(m.CheckboxControl,{label:(0,c.__)("Show if event is booked up or nearly booked up","events"),checked:S,onChange:e=>B({showBookedUp:e})}),(0,s.createElement)(m.RangeControl,{label:(0,c.__)("Warning threshold","events"),value:N,onChange:e=>B({bookedUpWarningThreshold:e}),min:0,max:10,help:(0,c.__)("Show a warning that the event is nearly booked up when only this number of spaces are left","events")})))},g=JSON.parse('{"name":"events-manager/upcoming","title":"Upcoming Events","description":"Shows a list or cards of upcoming events","text-domain":"events-manager","apiVersion":2,"category":"widgets","attributes":{"columnsSmall":{"type":"number","default":1},"columnsMedium":{"type":"number","default":2},"columnsLarge":{"type":"number","default":3},"showImages":{"type":"boolean","default":true},"roundImages":{"type":"boolean","default":false},"imageSize":{"type":"number","default":100},"showCategory":{"type":"boolean","default":true},"showLocation":{"type":"string","default":""},"style":{"type":"string","default":"cards"},"limit":{"type":"number","default":12},"order":{"type":"string","default":"ASC"},"selectedCategory":{"type":"array","default":[]},"selectedLocation":{"type":"number","default":0},"selectedTags":{"type":"array","default":[]},"excerptLength":{"type":"number","default":20},"textAlignment":{"type":"string","default":"left"},"showAudience":{"type":"boolean","default":false},"showSpeaker":{"type":"string","default":""},"showCategoryFilter":{"type":"boolean","default":false},"showTagFilter":{"type":"boolean","default":false},"showSearch":{"type":"boolean","default":false},"filterStyle":{"type":"string","default":"pills"},"filterPosition":{"type":"string","default":"top"},"scope":{"type":"string","default":"future"},"bookedUpWarningThreshold":{"type":"number","default":0},"showBookedUp":{"type":"boolean","default":true},"excludeCurrent":{"type":"boolean","default":true}}}');const{name:b,title:_}=g,f={...g,title:(0,c.__)(_,"ctx-blocks"),icon:v.posts,edit:e=>{const{attributes:{columnsLarge:t,showImages:n,style:a,textAlignment:l,selectedCategory:o,roundImages:m,selectedTags:h},setAttributes:v}=e,g=(0,u.useSelect)((e=>{const{getEntityRecords:t}=e(d.store),n=t("taxonomy","event-categories",{hide_empty:!0});let a=[{value:0,label:""}];return n?(n.map((e=>{a.push({value:e.id,label:e.name})})),a):a}),[]),b=(0,u.useSelect)((e=>{const{getEntityRecords:t}=e(d.store);return t("taxonomy","event-tags",{hide_empty:!0})||null}),[]),_=(0,u.useSelect)((e=>{const{getEntityRecords:t}=e(d.store),n=t("postType","location",{per_page:-1});let a=[{value:0,label:""}];return n?(n.map((e=>{a.push({value:e.location_id,label:e.title.raw})})),a):a}),[]);let f=[],w=[];null!==b&&(f=b.map((e=>e.name)),w=h.map((e=>{let t=b.find((t=>t.id===e));return!(void 0===t||!t)&&t.name})));const y=(0,i.useBlockProps)({className:["columns-"+t,!!n&&"hasImage","style-"+a,"text-"+l,!!m&&"round-images"].filter(Boolean).join(" ")});return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(p,r({},e,{tagList:b,categoryList:g,tagsFieldValue:w,tagNames:f,locationList:_})),(0,s.createElement)(i.BlockControls,null,(0,s.createElement)(i.AlignmentToolbar,{value:l,onChange:e=>v({textAlignment:e})})),(0,s.createElement)("div",y,(0,s.createElement)("div",{className:"components-placeholder is-large"},(0,s.createElement)("div",{className:"components-placeholder__label"},(0,c.__)("Upcoming Events","events")),(0,s.createElement)("div",{className:"components-placeholder__instructions"},(0,c.__)("See for settings in the inspector. The result can be seen in the frontend","events")))))},save:()=>null};var w=e=>{const{attributes:{limit:t,columnsSmall:n,columnsMedium:a,columnsLarge:l,showImages:o,dropShadow:r,style:u,showCategory:d,showLocation:h,roundImages:v,excerptLength:p,selectedCategory:g,selectedLocation:b,fromDate:_,toDate:f,order:w,showAudience:y,showSpeaker:E},tagList:C,categoryList:k,tagsFieldValue:x,locationList:S,tagNames:N,setAttributes:L}=e,T=[{value:"",label:(0,c.__)("","events")},{value:"city",label:(0,c.__)("City","events")},{value:"name",label:(0,c.__)("Name","events")}];return(0,c.__)("Ascending","events"),(0,c.__)("Descending","events"),(0,s.createElement)(i.InspectorControls,null,(0,s.createElement)(m.PanelBody,{title:(0,c.__)("Data","events"),initialOpen:!0},(0,s.createElement)(m.SelectControl,{label:(0,c.__)("Category","events"),value:g,options:k,onChange:e=>{L({selectedCategory:e})}}),(0,s.createElement)(m.FormTokenField,{label:(0,c.__)("Tags","events"),value:x,suggestions:N,onChange:e=>{let t=[];e.map((e=>{const n=C.find((t=>t.name===e));void 0!==n&&t.push(n.id)})),L({selectedTags:t})},__experimentalExpandOnFocus:!0}),(0,s.createElement)(m.SelectControl,{label:(0,c.__)("Location","events"),value:b,options:S,onChange:e=>{L({selectedLocation:e})}})),(0,s.createElement)(m.PanelBody,{title:(0,c.__)("Appearance","events"),initialOpen:!0},(0,s.createElement)(m.PanelRow,null,(0,s.createElement)(m.ToggleControl,{label:(0,c.__)("Drop shadow","events"),checked:r,onChange:e=>L({dropShadow:e})})),(0,s.createElement)(m.PanelRow,null,(0,s.createElement)(m.SelectControl,{label:(0,c.__)("Location","events"),value:h,options:T,onChange:e=>{L({showLocation:e})}})),(0,s.createElement)(m.RangeControl,{label:(0,c.__)("Length of preview text","events"),max:200,min:0,help:(0,c.__)("Number of words","events"),onChange:e=>{L({excerptLength:e})},value:p}),(0,s.createElement)(m.PanelRow,null,(0,s.createElement)(m.CheckboxControl,{label:(0,c.__)("Show Audience","events"),checked:y,onChange:e=>L({showAudience:e})})),(0,s.createElement)(m.PanelRow,null,(0,s.createElement)(m.CheckboxControl,{label:(0,c.__)("Show Speaker","events"),checked:E,onChange:e=>L({showSpeaker:e})})),(0,s.createElement)(m.PanelRow,null,(0,s.createElement)(m.CheckboxControl,{label:(0,c.__)("Show category","events"),checked:d,onChange:e=>L({showCategory:e})}))))},y=(0,s.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,s.createElement)(m.Path,{d:"M0 0h24v24H0z",fill:"none"}),(0,s.createElement)(m.Path,{d:"M16.53 11.06L15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"})),E=JSON.parse('{"name":"events-manager/featured","apiVersion":2,"title":"Featured","category":"widgets","attributes":{"dropShadow":{"type":"boolean","default":false},"eventId":{"type":"number","default":100},"showCategory":{"type":"boolean","default":true},"showLocation":{"type":"string","default":""},"selectedCategory":{"type":"string","default":""},"selectedTags":{"type":"array","default":[]},"excerptLength":{"type":"number","default":20},"textAlignment":{"type":"string","default":"left"},"showAudience":{"type":"boolean","default":false},"showSpeaker":{"type":"boolean","default":false},"showImage":{"type":"boolean","default":true},"isRootElement":{"type":"boolean","default":false}}}');const{name:C,title:k}=E,x={...E,title:(0,c.__)(k,"ctx-blocks"),icon:y,edit:e=>{const{attributes:{columnsLarge:t,showImages:n,dropShadow:a,style:l,selectedCategory:o,isRootElement:m,textAlignment:h,roundImages:v,selectedTags:p},setAttributes:g}=e,b=(0,u.select)("core/block-editor").getBlockHierarchyRootClientId(e.clientId);g({isRootElement:b==e.clientId});const _=(0,u.useSelect)((e=>{const{getEntityRecords:t}=e(d.store),n=t("taxonomy","event-categories",{hide_empty:!0});let a=[{value:0,label:""}];return n?(n.map((e=>{a.push({value:e.id,label:e.name})})),a):a}),[]),f=(0,u.useSelect)((e=>{const{getEntityRecords:t}=e(d.store);return t("taxonomy","event-tags",{hide_empty:!0})||null}),[]),y=(0,u.useSelect)((e=>{const{getEntityRecords:t}=e(d.store),n=t("postType","location",{per_page:-1});let a=[{value:0,label:""}];return n?(n.map((e=>{a.push({value:e.id,label:e.title.raw})})),a):a}),[]),E=(0,u.useSelect)((e=>{const{getEntityRecords:t}=e(d.store);let n={};0!==o&&(n["event-categories"]=o),p!==[]&&(n["event-tags"]=p);const a=t("postType","event",n);if(!a)return!1;let l=a[0];a.forEach((e=>{let t=new Date(l.meta._event_start_date);new Date(e.meta._event_start_date)>t&&(l=e)}));const r=t("postType","attachment",{include:[l.featured_media]});return r&&(l.image=r[0].media_details.sizes.large.source_url),l}),[o,p]);let C=[],k=[];null!==f&&(C=f.map((e=>e.name)),k=p.map((e=>{let t=f.find((t=>t.id===e));return!(void 0===t||!t)&&t.name})));const x=(0,i.useBlockProps)({className:["ctx-featured-event",!!m&&"is-root",!!a&&"hover","style-"+l,"text-"+h,!!v&&"round-images"].filter(Boolean).join(" ")});return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(w,r({},e,{tagList:f,categoryList:_,tagsFieldValue:k,tagNames:C,locationList:y})),(0,s.createElement)(i.BlockControls,null,(0,s.createElement)(i.AlignmentToolbar,{value:h,onChange:e=>g({textAlignment:e})})),(0,s.createElement)("div",null,E&&(0,s.createElement)("div",r({},x,{style:{backgroundImage:`url(${E.image})`}}),(0,s.createElement)("div",{className:"overlay"},(0,s.createElement)("h1",null,E.title.raw),(0,s.createElement)("p",null,E.excerpt.raw),(0,s.createElement)("p",null,E.meta._event_start_date))),!E&&(0,s.createElement)("h2",null,(0,c.__)("No events found","events-manager"))))},save:()=>null};var S=e=>{const{attributes:{showLocation:t,showAudience:n,showDate:a,showTime:l,showSpeaker:o,showPrice:r,audienceDescription:u,audienceIcon:d,locationLink:h,speakerDescription:v,priceOverwrite:p,speakerIcon:g,speakerLink:b,bookedUpWarningThreshold:_,showBookedUp:f},setAttributes:w}=e;return(0,s.createElement)(i.InspectorControls,null,(0,s.createElement)(m.PanelBody,{title:(0,c.__)("Audience","events"),initialOpen:!0},(0,s.createElement)(m.ToggleControl,{label:(0,c.__)("Show Audience","events"),checked:n,onChange:e=>w({showAudience:e})}),(0,s.createElement)(m.TextControl,{disabled:!n,label:(0,c.__)("Description","events"),help:(0,c.__)('If empty, "Audience" is shown',"events"),value:u,onChange:e=>w({audienceDescription:e})}),(0,s.createElement)(m.SelectControl,{disabled:!n,label:(0,c.__)("Icon","events"),value:d,options:[{value:"groups",label:"People"},{value:"male",label:"Male"},{value:"female",label:"Female"}],onChange:e=>w({audienceIcon:e})})),(0,s.createElement)(m.PanelBody,{title:(0,c.__)("Location","events"),initialOpen:!0},(0,s.createElement)(m.ToggleControl,{label:(0,c.__)("Show Location","events"),checked:t,onChange:e=>w({showLocation:e})}),(0,s.createElement)(m.CheckboxControl,{disabled:!t,label:(0,c.__)("Add Link","events"),checked:h,onChange:e=>w({locationLink:e})})),(0,s.createElement)(m.PanelBody,{title:(0,c.__)("Date and Time","events"),initialOpen:!0},(0,s.createElement)(m.ToggleControl,{label:(0,c.__)("Show Date","events"),checked:a,onChange:e=>w({showDate:e})}),(0,s.createElement)(m.ToggleControl,{label:(0,c.__)("Show Time","events"),checked:l,onChange:e=>w({showTime:e})})),(0,s.createElement)(m.PanelBody,{title:(0,c.__)("Speaker","events"),initialOpen:!0},(0,s.createElement)(m.ToggleControl,{label:(0,c.__)("Show Speaker","events"),checked:o,onChange:e=>w({showSpeaker:e})}),(0,s.createElement)(m.TextControl,{disabled:!o,label:(0,c.__)("Description","events"),help:(0,c.__)('If empty, "Speaker" is shown',"events"),value:v,onChange:e=>w({speakerDescription:e})}),(0,s.createElement)(m.SelectControl,{disabled:!o,label:(0,c.__)("Icon","events"),value:g,options:[{value:"",label:(0,c.__)("Photo of speaker","events")},{value:"face",label:(0,c.__)("Face","events")},{value:"support_agent",label:(0,c.__)("Online Speaker","events")}],onChange:e=>w({speakerIcon:e})}),(0,s.createElement)(m.CheckboxControl,{disabled:!o,label:(0,c.__)("Add email link","events"),checked:b,onChange:e=>w({speakerLink:e})})),(0,s.createElement)(m.PanelBody,{title:(0,c.__)("Price","events"),initialOpen:!0},(0,s.createElement)(m.ToggleControl,{label:(0,c.__)("Show Price","events"),checked:r,onChange:e=>w({showPrice:e})}),(0,s.createElement)(m.TextControl,{disabled:!r,label:(0,c.__)("Overwrite Price","events"),help:(0,c.__)("If empty, the first ticket's price is used","events"),value:p,onChange:e=>w({priceOverwrite:e})})),(0,s.createElement)(m.PanelBody,{title:(0,c.__)("Booked up warning","events"),initialOpen:!0},(0,s.createElement)(m.ToggleControl,{label:(0,c.__)("Show if event is booked up or nearly booked up","events"),checked:f,onChange:e=>w({showBookedUp:e})}),(0,s.createElement)(m.RangeControl,{label:(0,c.__)("Warning threshold","events"),value:_,onChange:e=>w({bookedUpWarningThreshold:e}),min:0,max:10,help:(0,c.__)("Show a warning that the event is nearly booked up when only this number of spaces are left","events")})))},N=(0,s.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24"},(0,s.createElement)(m.Path,{d:"M7 14V12H17V14ZM7 18V16H14V18ZM5 22Q4.175 22 3.587 21.413Q3 20.825 3 20V6Q3 5.175 3.587 4.588Q4.175 4 5 4H6V2H8V4H16V2H18V4H19Q19.825 4 20.413 4.588Q21 5.175 21 6V20Q21 20.825 20.413 21.413Q19.825 22 19 22ZM5 20H19Q19 20 19 20Q19 20 19 20V10H5V20Q5 20 5 20Q5 20 5 20ZM5 8H19V6Q19 6 19 6Q19 6 19 6H5Q5 6 5 6Q5 6 5 6ZM5 8V6Q5 6 5 6Q5 6 5 6Q5 6 5 6Q5 6 5 6V8Z"})),L=JSON.parse('{"name":"events-manager/details","apiVersion":2,"title":"Event Details","description":"Show a list with selected details of the event","category":"widgets","attributes":{"showLocation":{"type":"boolean","default":""},"showAudience":{"type":"boolean","default":true},"showSpeaker":{"type":"boolean","default":true},"showDate":{"type":"boolean","default":true},"showTime":{"type":"boolean","default":true},"showPrice":{"type":"boolean","default":true},"audienceDescription":{"type":"string","default":""},"audienceIcon":{"type":"string","default":"groups"},"locationLink":{"type":"boolean","default":true},"speakerDescription":{"type":"string","default":""},"speakerIcon":{"type":"string","default":""},"speakerLink":{"type":"boolean","default":true},"priceOverwrite":{"type":"string","default":""},"bookedUpWarningThreshold":{"type":"number","default":5},"showBookedUp":{"type":"boolean","default":true}}}');const{name:T,title:I,description:P}=L,H={...L,title:(0,c.__)(I,"events"),description:(0,c.__)(P,"events"),icon:N,edit:e=>{var t,n,a,l,o,r,d,m,h;const{attributes:{showLocation:v,showAudience:p,showDate:g,showTime:b,showSpeaker:_,showPrice:f,audienceIcon:w,audienceDescription:y,speakerIcon:E,priceOverwrite:C,showBookedUp:k}}=e,[x,N]=(0,s.useState)(!1),L=(0,u.useSelect)((e=>e("core/editor").getCurrentPostId()),[]);(0,s.useEffect)((()=>{const e=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const n=null===(e=window.eventBlocksLocalization)||void 0===e?void 0:e.rest_url;if(void 0!==n)return n+(n.includes("?")?"&":"?")+t}(`post_id=${L}`);fetch(e).then((e=>e.json())).then((e=>N(e[0])))}),[]);const T=(0,i.useBlockProps)({className:["ctx:event-details"].filter(Boolean).join(" ")});return(0,s.createElement)("div",T,(0,s.createElement)(S,e),x&&(0,s.createElement)("div",{className:"ctx:event-details__wrapper"},p&&(0,s.createElement)("div",{className:"ctx:event-details__item"},(0,s.createElement)("i",{className:"material-icons"},w),(0,s.createElement)("div",null,(0,s.createElement)("h5",null,""!=y?y:(0,c.__)("Audience","events")),null!==(t=null==x?void 0:x.audience)&&void 0!==t?t:(0,c.__)("no data"))),v&&(0,s.createElement)("div",{className:"ctx:event-details__item"},(0,s.createElement)("i",{className:"material-icons"},"place"),(0,s.createElement)("div",null,(0,s.createElement)("h5",null,(0,c.__)("Location","events")),null==x||null===(n=x.location)||void 0===n?void 0:n.address)),g&&(0,s.createElement)("div",{className:"ctx:event-details__item"},(0,s.createElement)("i",{className:"material-icons"},"today"),(0,s.createElement)("div",null,(0,s.createElement)("h5",null,(0,c.__)("Date","events")),(()=>{if(null!=x&&x.start)return function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=null===(t=window.eventBlocksLocalization)||void 0===t?void 0:t.locale;e=new Date(1e3*e),n=n?new Date(1e3*n):e;const l=e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate();let o={year:"numeric",month:"long",day:"numeric"};return l&&(o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}),new Intl.DateTimeFormat(a,o).formatRange(e,n)}(x.start,x.end)})())),b&&(0,s.createElement)("div",{className:"ctx:event-details__item"},(0,s.createElement)("i",{className:"material-icons"},"schedule"),(0,s.createElement)("div",null,(0,s.createElement)("h5",null,(0,c.__)("Time","events")),(()=>{if(null!=x&&x.start)return function(e){var t;const n=null===(t=window.eventBlocksLocalization)||void 0===t?void 0:t.locale;return new Intl.DateTimeFormat(n,{hour:"numeric",minute:"numeric"}).format(1e3*e)}(x.start)})())),_&&(0,s.createElement)("div",{className:"ctx:event-details__item"},""==E&&(0,s.createElement)("img",{className:"ctx:event-details__image",src:null==x||null===(a=x.speaker)||void 0===a||null===(l=a.image)||void 0===l||null===(o=l.sizes)||void 0===o||null===(r=o.thumbnail)||void 0===r?void 0:r.url})," ",""==!E&&(0,s.createElement)("i",{className:"material-icons"},E),(0,s.createElement)("div",null,(0,s.createElement)("h5",null,(0,c.__)("Speaker","events")),null==x||null===(d=x.speaker)||void 0===d?void 0:d.name)),f&&(0,s.createElement)("div",{className:"ctx:event-details__item"},(0,s.createElement)("i",{className:"material-icons"},"euro"),(0,s.createElement)("div",null,(0,s.createElement)("h5",null,(0,c.__)("Price","events")),""!=C?C:null==x||null===(m=x.price)||void 0===m?void 0:m.format)),k&&(null==x||null===(h=x.bookings)||void 0===h?void 0:h.has_bookings)&&(0,s.createElement)("div",{className:"ctx:event-details__item"},(0,s.createElement)("i",{className:"material-icons"},"report_problem"),(0,s.createElement)("div",null,(0,s.createElement)("h5",null,(0,c.__)("Warning","events")),(0,c.__)("This warning is shown, if few or no bookings are available","events")))),!x&&(0,s.createElement)("div",{className:"components-placeholder is-large"},(0,s.createElement)("div",{className:"components-placeholder__label"},(0,c.__)("Event Details","events")),(0,s.createElement)("div",{className:"components-placeholder__instructions"},(0,c.__)("In this widget, the event datails will be shown. Please save the page for a preview.","events"))))},save:()=>null};var V={grad:.9,turn:360,rad:360/(2*Math.PI)},B=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},M=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},Q=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},R=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},z=function(e){return{r:Q(e.r,0,255),g:Q(e.g,0,255),b:Q(e.b,0,255),a:Q(e.a)}},D=function(e){return{r:M(e.r),g:M(e.g),b:M(e.b),a:M(e.a,3)}},A=/^#([0-9a-f]{3,8})$/i,O=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},F=function(e){var t=e.r,n=e.g,a=e.b,l=e.a,o=Math.max(t,n,a),r=o-Math.min(t,n,a),s=r?o===t?(n-a)/r:o===n?2+(a-t)/r:4+(t-n)/r:0;return{h:60*(s<0?s+6:s),s:o?r/o*100:0,v:o/255*100,a:l}},j=function(e){var t=e.h,n=e.s,a=e.v,l=e.a;t=t/360*6,n/=100,a/=100;var o=Math.floor(t),r=a*(1-n),s=a*(1-(t-o)*n),i=a*(1-(1-t+o)*n),c=o%6;return{r:255*[a,s,r,r,i,a][c],g:255*[i,a,a,s,r,r][c],b:255*[r,r,i,a,a,s][c],a:l}},U=function(e){return{h:R(e.h),s:Q(e.s,0,100),l:Q(e.l,0,100),a:Q(e.a)}},Z=function(e){return{h:M(e.h),s:M(e.s),l:M(e.l),a:M(e.a,3)}},W=function(e){return j((n=(t=e).s,{h:t.h,s:(n*=((a=t.l)<50?a:100-a)/100)>0?2*n/(a+n)*100:0,v:a+n,a:t.a}));var t,n,a},$=function(e){return{h:(t=F(e)).h,s:(l=(200-(n=t.s))*(a=t.v)/100)>0&&l<200?n*a/100/(l<=100?l:200-l)*100:0,l:l/2,a:t.a};var t,n,a,l},G=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,J=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Y=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,q=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,K={string:[[function(e){var t=A.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?M(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?M(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=Y.exec(e)||q.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:z({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=G.exec(e)||J.exec(e);if(!t)return null;var n,a,l=U({h:(n=t[1],a=t[2],void 0===a&&(a="deg"),Number(n)*(V[a]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return W(l)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,a=e.b,l=e.a,o=void 0===l?1:l;return B(t)&&B(n)&&B(a)?z({r:Number(t),g:Number(n),b:Number(a),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,n=e.s,a=e.l,l=e.a,o=void 0===l?1:l;if(!B(t)||!B(n)||!B(a))return null;var r=U({h:Number(t),s:Number(n),l:Number(a),a:Number(o)});return W(r)},"hsl"],[function(e){var t=e.h,n=e.s,a=e.v,l=e.a,o=void 0===l?1:l;if(!B(t)||!B(n)||!B(a))return null;var r=function(e){return{h:R(e.h),s:Q(e.s,0,100),v:Q(e.v,0,100),a:Q(e.a)}}({h:Number(t),s:Number(n),v:Number(a),a:Number(o)});return j(r)},"hsv"]]},X=function(e,t){for(var n=0;n<t.length;n++){var a=t[n][0](e);if(a)return[a,t[n][1]]}return[null,void 0]},ee=function(e,t){var n=$(e);return{h:n.h,s:Q(n.s+100*t,0,100),l:n.l,a:n.a}},te=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},ne=function(e,t){var n=$(e);return{h:n.h,s:n.s,l:Q(n.l+100*t,0,100),a:n.a}},ae=function(){function e(e){this.parsed=function(e){return"string"==typeof e?X(e.trim(),K.string):"object"==typeof e&&null!==e?X(e,K.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return M(te(this.rgba),2)},e.prototype.isDark=function(){return te(this.rgba)<.5},e.prototype.isLight=function(){return te(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=D(this.rgba)).r,n=e.g,a=e.b,o=(l=e.a)<1?O(M(255*l)):"","#"+O(t)+O(n)+O(a)+o;var e,t,n,a,l,o},e.prototype.toRgb=function(){return D(this.rgba)},e.prototype.toRgbString=function(){return t=(e=D(this.rgba)).r,n=e.g,a=e.b,(l=e.a)<1?"rgba("+t+", "+n+", "+a+", "+l+")":"rgb("+t+", "+n+", "+a+")";var e,t,n,a,l},e.prototype.toHsl=function(){return Z($(this.rgba))},e.prototype.toHslString=function(){return t=(e=Z($(this.rgba))).h,n=e.s,a=e.l,(l=e.a)<1?"hsla("+t+", "+n+"%, "+a+"%, "+l+")":"hsl("+t+", "+n+"%, "+a+"%)";var e,t,n,a,l},e.prototype.toHsv=function(){return e=F(this.rgba),{h:M(e.h),s:M(e.s),v:M(e.v),a:M(e.a,3)};var e},e.prototype.invert=function(){return le({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),le(ee(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),le(ee(this.rgba,-e))},e.prototype.grayscale=function(){return le(ee(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),le(ne(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),le(ne(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?le({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):M(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=$(this.rgba);return"number"==typeof e?le({h:e,s:t.s,l:t.l,a:t.a}):M(t.h)},e.prototype.isEqual=function(e){return this.toHex()===le(e).toHex()},e}(),le=function(e){return e instanceof ae?e:new ae(e)},oe=e=>{const{buttonColor:t,setButtonColor:n,setAttributes:a,attributes:{buttonIcon:l,buttonIconSuffix:o,bookNow:r}}=e;return(0,s.createElement)(i.InspectorControls,null,(0,s.createElement)(i.PanelColorSettings,{title:(0,c.__)("Color Settings","events"),colorSettings:[{label:(0,c.__)("Set a background color for the button","events"),onChange:n,value:t.color,disableCustomColors:!0}]}),(0,s.createElement)(m.PanelBody,{title:(0,c.__)("Button Settings","events"),initialOpen:!0},(0,s.createElement)(m.TextControl,{label:(0,c.__)('"Book now" Button',"events"),value:r,onChange:e=>{a({bookNow:e})}}),(0,s.createElement)(m.TextControl,{label:(0,c.__)("Button Icon","events"),value:l,onChange:e=>{a({buttonIcon:e})}}),(0,s.createElement)(m.CheckboxControl,{label:(0,c.__)("Button Icon Suffix","events"),checked:o,onChange:e=>{a({buttonIconSuffix:e})}})))},re=(0,s.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24"},(0,s.createElement)(m.Path,{d:"M4 20Q3.175 20 2.588 19.413Q2 18.825 2 18V14Q2.825 14 3.413 13.412Q4 12.825 4 12Q4 11.175 3.413 10.587Q2.825 10 2 10V6Q2 5.175 2.588 4.588Q3.175 4 4 4H20Q20.825 4 21.413 4.588Q22 5.175 22 6V10Q21.175 10 20.587 10.587Q20 11.175 20 12Q20 12.825 20.587 13.412Q21.175 14 22 14V18Q22 18.825 21.413 19.413Q20.825 20 20 20ZM4 18H20V15.45Q19.05 14.925 18.525 13.987Q18 13.05 18 12Q18 10.95 18.525 10.012Q19.05 9.075 20 8.55V6H4V8.55Q4.95 9.075 5.475 10.012Q6 10.95 6 12Q6 13.05 5.475 13.987Q4.95 14.925 4 15.45ZM9.2 16 12 13.9 14.75 16 13.7 12.6 16.5 10.4H13.1L12 7L10.9 10.4H7.5L10.25 12.6ZM12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12Q12 12 12 12Z"})),se=JSON.parse('{"name":"events-manager/booking","apiVersion":2,"title":"Event Booking","description":"Add a button that allows the user to book tickets for an event.","category":"widgets","attributes":{"buttonTitle":{"type":"string","default":""},"buttonColor":{"type":"string","default":"primary"},"bookNow":{"type":"string","default":""},"buttonIcon":{"type":"string","default":""}}}');const{name:ie,title:ce,description:ue}=se,de={...se,title:(0,c.__)(ce,"events"),description:(0,c.__)(ue,"events"),icon:re,edit:(0,i.withColors)({buttonColor:"buttonColor"})((e=>{const{attributes:{buttonTitle:t},setAttributes:n,buttonColor:a}=e,l=(0,i.useBlockProps)({className:["ctx-event-booking"].filter(Boolean).join(" ")}),o=null==a.color||le(a.color).isLight()?"#000000":"#ffffff",r={background:a.color,color:o};return(0,s.createElement)("div",l,(0,s.createElement)(oe,e),(0,s.createElement)("span",{style:r,className:"events ctx-button"},(0,s.createElement)(i.RichText,{tagName:"span",value:t,onChange:e=>n({buttonTitle:e}),placeholder:(0,c.__)("Registration","events"),allowedFormats:["core/bold","core/italic"]})))})),save:()=>null};var me;let he=[t,n];"event"===(null===(me=window.eventBlocksLocalization)||void 0===me?void 0:me.post_type)&&(he=[...he,a,l]),he.forEach((e=>{if(!e)return;const{name:t,settings:n}=e;(0,o.registerBlockType)(t,n)}))}();