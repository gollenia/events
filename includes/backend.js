!function(){"use strict";var e={d:function(t,n){for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{name:function(){return b},settings:function(){return f}});var n={};e.r(n),e.d(n,{name:function(){return C},settings:function(){return x}});var l={};e.r(l),e.d(l,{name:function(){return T},settings:function(){return I}});var a={};e.r(a),e.d(a,{name:function(){return se},settings:function(){return ce}});var o=window.wp.blocks;function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},r.apply(this,arguments)}var s=window.wp.element,i=window.wp.blockEditor,c=window.wp.i18n,u=window.wp.data,m=window.wp.coreData,d=window.wp.components;let h=[];h.posts=(0,s.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24",viewBox:"0 0 24 24",width:"24"},(0,s.createElement)("g",null,(0,s.createElement)("rect",{fill:"none",height:"24",width:"24"})),(0,s.createElement)("g",null,(0,s.createElement)("g",null),(0,s.createElement)("g",null,(0,s.createElement)(d.Path,{d:"M21,5c-1.11-0.35-2.33-0.5-3.5-0.5c-1.95,0-4.05,0.4-5.5,1.5c-1.45-1.1-3.55-1.5-5.5-1.5S2.45,4.9,1,6v14.65 c0,0.25,0.25,0.5,0.5,0.5c0.1,0,0.15-0.05,0.25-0.05C3.1,20.45,5.05,20,6.5,20c1.95,0,4.05,0.4,5.5,1.5c1.35-0.85,3.8-1.5,5.5-1.5 c1.65,0,3.35,0.3,4.75,1.05c0.1,0.05,0.15,0.05,0.25,0.05c0.25,0,0.5-0.25,0.5-0.5V6C22.4,5.55,21.75,5.25,21,5z M21,18.5 c-1.1-0.35-2.3-0.5-3.5-0.5c-1.7,0-4.15,0.65-5.5,1.5V8c1.35-0.85,3.8-1.5,5.5-1.5c1.2,0,2.4,0.15,3.5,0.5V18.5z"}),(0,s.createElement)("g",null,(0,s.createElement)(d.Path,{d:"M17.5,10.5c0.88,0,1.73,0.09,2.5,0.26V9.24C19.21,9.09,18.36,9,17.5,9c-1.7,0-3.24,0.29-4.5,0.83v1.66 C14.13,10.85,15.7,10.5,17.5,10.5z"}),(0,s.createElement)(d.Path,{d:"M13,12.49v1.66c1.13-0.64,2.7-0.99,4.5-0.99c0.88,0,1.73,0.09,2.5,0.26V11.9c-0.79-0.15-1.64-0.24-2.5-0.24 C15.8,11.66,14.26,11.96,13,12.49z"}),(0,s.createElement)(d.Path,{d:"M17.5,14.33c-1.7,0-3.24,0.29-4.5,0.83v1.66c1.13-0.64,2.7-0.99,4.5-0.99c0.88,0,1.73,0.09,2.5,0.26v-1.52 C19.21,14.41,18.36,14.33,17.5,14.33z"}))))),h.mini=(0,s.createElement)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},(0,s.createElement)("path",{d:"M30 24v2H2.429v-2h27.57zm0-10v2H2.429v-2h27.57zm0-10v2H2.429V4h27.57z",fillRule:"nonzero"}),(0,s.createElement)("path",{fill:"#919191",fillRule:"nonzero",d:"M2.429 7h24.043v3H2.429zM2.429 17h24.043v3H2.429zM2.429 27h24.043v3H2.429z"})),h.list=(0,s.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",clipRule:"evenodd",viewBox:"0 0 32 32"},(0,s.createElement)("path",{d:"M30 24v2H10v-2h20zm0-10v2H10v-2h20zm0-10v2H10V4h20z"}),(0,s.createElement)("circle",{cx:"4.773",cy:"7",r:"3"}),(0,s.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(0 10)"}),(0,s.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(0 20)"}),(0,s.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z"}),(0,s.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"translate(0 10)"}),(0,s.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"translate(0 20)"})),h.cards=(0,s.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",clipRule:"evenodd",viewBox:"0 0 32 32"}," ",(0,s.createElement)("path",{fill:"#E5E5E5",d:"M2.274 1.794H10.702000000000002V16.772H2.274z",transform:"matrix(1.52569 0 0 1.59368 -1.304 1.206)"})," ",(0,s.createElement)("path",{d:"M10 24H30V26H10z",transform:"matrix(.4577 0 0 .96245 -.566 -6.375)"})," ",(0,s.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(1.306 -.773) scale(1.52569)"})," ",(0,s.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"matrix(.55574 0 0 1.52569 -1.546 10.482)"})," ",(0,s.createElement)("path",{fill:"#E5E5E5",d:"M2.274 1.794H10.702000000000002V16.772H2.274z",transform:"matrix(1.52569 0 0 1.59368 13.507 1.206)"})," ",(0,s.createElement)("path",{d:"M10 24H30V26H10z",transform:"matrix(.4577 0 0 .96245 14.245 -6.375)"})," ",(0,s.createElement)("circle",{cx:"4.773",cy:"7",r:"3",transform:"translate(16.117 -.773) scale(1.52569)"})," ",(0,s.createElement)("path",{fill:"#919191",d:"M10 7H26.472V10H10z",transform:"matrix(.55574 0 0 1.52569 13.265 10.482)"})," ");var v=h,g=e=>{const{attributes:{limit:t,columnsSmall:n,columnsMedium:l,columnsLarge:a,showImages:o,style:r,scope:u,showCategory:m,showLocation:h,excerptLength:g,selectedCategory:p,selectedLocation:b,order:_,showAudience:f,showSpeaker:w,showTagFilter:y,showCategoryFilter:E,showSearch:C,filterPosition:k,showBookedUp:x,bookedUpWarningThreshold:S,excludeCurrent:L},tagList:N,categoryList:T,tagsFieldValue:P,locationList:I,tagNames:B,setAttributes:H}=e,M=[{value:"",label:(0,c.__)("Don't show","events")},{value:"name",label:(0,c.__)("Name","events")},{value:"city",label:(0,c.__)("City","events")},{value:"country",label:(0,c.__)("Country","events")},{value:"state",label:(0,c.__)("State","events")}],z=[{value:"",label:(0,c.__)("Don't show","events")},{value:"name",label:(0,c.__)("Name only","events")},{value:"image",label:(0,c.__)("Name and image","events")}],V=[{value:"future",label:(0,c.__)("Future","events")},{value:"past",label:(0,c.__)("Past","events")},{value:"today",label:(0,c.__)("Today","events")},{value:"tomorrow",label:(0,c.__)("Tomorrow","events")},{value:"month",label:(0,c.__)("This month","events")},{value:"next-month",label:(0,c.__)("Next month","events")}],R=[{value:"ASC",label:(0,c.__)("Ascending","events")},{value:"DESC",label:(0,c.__)("Descending","events")}];return(0,s.createElement)(i.InspectorControls,null,(0,s.createElement)(d.PanelBody,{title:(0,c.__)("Data","events"),initialOpen:!0},(0,s.createElement)(d.SelectControl,{multiple:!0,label:(0,c.__)("Category","events"),value:p,options:T,onChange:e=>{H({selectedCategory:e})}}),(0,s.createElement)(d.FormTokenField,{label:(0,c.__)("Tags","events"),value:P,suggestions:B,onChange:e=>{let t=[];e.map((e=>{const n=N.find((t=>t.name===e));void 0!==n&&t.push(n.id)})),H({selectedTags:t})},__experimentalExpandOnFocus:!0}),(0,s.createElement)(d.SelectControl,{label:(0,c.__)("Location","events"),value:b,options:I,onChange:e=>{H({selectedLocation:parseInt(e)})}}),(0,s.createElement)(d.SelectControl,{label:(0,c.__)("Scope","events"),value:u,options:V,onChange:e=>{H({scope:e})}}),(0,s.createElement)(d.SelectControl,{label:(0,c.__)("Sorting","events"),value:_,options:R,onChange:e=>{H({order:e})}}),(0,s.createElement)(d.RangeControl,{label:(0,c.__)("Limit","events"),max:100,min:1,value:t,onChange:e=>{H({limit:e})}}),(0,s.createElement)(d.CheckboxControl,{label:(0,c.__)("Exclude current","events"),checked:L,onChange:e=>H({excludeCurrent:e}),help:(0,c.__)("If applicable, exclude the current event from the list","events")})),(0,s.createElement)(d.PanelBody,{title:(0,c.__)("Filter","events")},(0,s.createElement)(d.CheckboxControl,{label:(0,c.__)("Show category filter","events"),checked:E,onChange:e=>H({showCategoryFilter:e})}),(0,s.createElement)(d.CheckboxControl,{label:(0,c.__)("Show tag filter","events"),checked:y,onChange:e=>H({showTagFilter:e})}),(0,s.createElement)(d.CheckboxControl,{label:(0,c.__)("Show search bar","events"),checked:C,onChange:e=>H({showSearch:e})}),(0,s.createElement)(d.RadioControl,{label:(0,c.__)("Position","events"),help:(0,c.__)("May not apply on mobile phones","events"),options:[{label:(0,c.__)("Top","events"),value:"top"},{label:(0,c.__)("Side","events"),value:"side"}],selected:k,onChange:e=>H({filterPosition:e})})),(0,s.createElement)(d.PanelBody,{title:(0,c.__)("Design","events"),initialOpen:!1},(0,s.createElement)(d.RangeControl,{label:(0,c.__)("Columns on small screens","events"),max:6,min:1,help:(0,c.__)("ex. Smartphones","events"),onChange:e=>{H({columnsSmall:e})},value:n}),(0,s.createElement)(d.RangeControl,{label:(0,c.__)("Columns on medium screens","events"),max:6,min:1,help:(0,c.__)("Tablets and smaller screens","events"),onChange:e=>{H({columnsMedium:e})},value:l}),(0,s.createElement)(d.RangeControl,{label:(0,c.__)("Columns on large screens","events"),max:6,min:1,help:(0,c.__)("Desktop screens","events"),onChange:e=>{H({columnsLarge:e})},value:a})),(0,s.createElement)(d.PanelBody,{title:(0,c.__)("Appearance","events"),initialOpen:!0},(0,s.createElement)("label",{className:"components-base-control__label",htmlFor:"inspector-range-control-4"},(0,c.__)("Style","events")),(0,s.createElement)("br",null),(0,s.createElement)("div",{className:"styleSelector"},(0,s.createElement)(d.Button,{onClick:()=>H({style:"mini"}),className:"mini"==r?"active":""},(0,s.createElement)(d.Icon,{size:"64",className:"icon",icon:v.mini}),(0,s.createElement)("div",null,(0,c.__)("Minimal","events"))),(0,s.createElement)(d.Button,{onClick:()=>H({style:"list"}),className:"list"==r?"active":""},(0,s.createElement)(d.Icon,{size:"64",className:"icon",icon:v.list}),(0,s.createElement)("div",null,(0,c.__)("List","events"))),(0,s.createElement)(d.Button,{onClick:()=>H({style:"cards"}),className:"cards"==r?"active":""},(0,s.createElement)(d.Icon,{size:"64",className:"icon",icon:v.cards}),(0,s.createElement)("div",null,(0,c.__)("Cards","events")))),(0,s.createElement)(d.SelectControl,{label:(0,c.__)("Location","events"),value:h,options:M,onChange:e=>{H({showLocation:e})}}),(0,s.createElement)(d.SelectControl,{label:(0,c.__)("Show Speaker","events"),value:w,options:z,onChange:e=>{H({showSpeaker:e})}}),(0,s.createElement)(d.RangeControl,{label:(0,c.__)("Length of preview text","events"),max:200,min:0,help:(0,c.__)("Number of words","events"),onChange:e=>{H({excerptLength:e})},value:g}),(0,s.createElement)(d.PanelRow,null,(0,s.createElement)(d.CheckboxControl,{label:(0,c.__)("Show audience","events"),checked:f,onChange:e=>H({showAudience:e})})),(0,s.createElement)(d.PanelRow,null,(0,s.createElement)(d.CheckboxControl,{label:(0,c.__)("Show image","events"),checked:o,onChange:e=>H({showImages:e})})),(0,s.createElement)(d.PanelRow,null,(0,s.createElement)(d.CheckboxControl,{label:(0,c.__)("Show category","events"),checked:m,onChange:e=>H({showCategory:e})})),(0,s.createElement)(d.CheckboxControl,{label:(0,c.__)("Show if event is booked up or nearly booked up","events"),checked:x,onChange:e=>H({showBookedUp:e})}),(0,s.createElement)(d.RangeControl,{label:(0,c.__)("Warning threshold","events"),value:S,onChange:e=>H({bookedUpWarningThreshold:e}),min:0,max:10,help:(0,c.__)("Show a warning that the event is nearly booked up when only this number of spaces are left","events")})))},p=JSON.parse('{"name":"events-manager/upcoming","title":"Upcoming Events","description":"Shows a list or cards of upcoming events","text-domain":"events-manager","apiVersion":2,"category":"widgets","attributes":{"columnsSmall":{"type":"number","default":1},"columnsMedium":{"type":"number","default":2},"columnsLarge":{"type":"number","default":3},"showImages":{"type":"boolean","default":true},"roundImages":{"type":"boolean","default":false},"imageSize":{"type":"number","default":100},"showCategory":{"type":"boolean","default":true},"showLocation":{"type":"string","default":""},"style":{"type":"string","default":"cards"},"limit":{"type":"number","default":12},"order":{"type":"string","default":"ASC"},"selectedCategory":{"type":"array","default":[]},"selectedLocation":{"type":"number","default":0},"selectedTags":{"type":"array","default":[]},"excerptLength":{"type":"number","default":20},"textAlignment":{"type":"string","default":"left"},"showAudience":{"type":"boolean","default":false},"showSpeaker":{"type":"string","default":""},"showCategoryFilter":{"type":"boolean","default":false},"showTagFilter":{"type":"boolean","default":false},"showSearch":{"type":"boolean","default":false},"filterStyle":{"type":"string","default":"pills"},"filterPosition":{"type":"string","default":"top"},"scope":{"type":"string","default":"future"},"bookedUpWarningThreshold":{"type":"number","default":0},"showBookedUp":{"type":"boolean","default":true},"excludeCurrent":{"type":"boolean","default":false}}}');const{name:b,title:_}=p,f={...p,title:(0,c.__)(_,"ctx-blocks"),icon:v.posts,edit:e=>{const{attributes:{columnsLarge:t,showImages:n,style:l,textAlignment:a,selectedCategory:o,roundImages:d,selectedTags:h},setAttributes:v}=e,p=(0,u.useSelect)((e=>{const{getEntityRecords:t}=e(m.store),n=t("taxonomy","event-categories",{hide_empty:!0});let l=[{value:0,label:""}];return n?(n.map((e=>{l.push({value:e.id,label:e.name})})),l):l}),[]),b=(0,u.useSelect)((e=>{const{getEntityRecords:t}=e(m.store);return t("taxonomy","event-tags",{hide_empty:!0})||null}),[]),_=(0,u.useSelect)((e=>{const{getEntityRecords:t}=e(m.store),n=t("postType","location",{per_page:-1});let l=[{value:0,label:""}];return n?(n.map((e=>{l.push({value:e.location_id,label:e.title.raw})})),l):l}),[]);let f=[],w=[];null!==b&&(f=b.map((e=>e.name)),w=h.map((e=>{let t=b.find((t=>t.id===e));return!(void 0===t||!t)&&t.name})));const y=(0,i.useBlockProps)({className:["columns-"+t,!!n&&"hasImage","style-"+l,"text-"+a,!!d&&"round-images"].filter(Boolean).join(" ")});return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(g,r({},e,{tagList:b,categoryList:p,tagsFieldValue:w,tagNames:f,locationList:_})),(0,s.createElement)(i.BlockControls,null,(0,s.createElement)(i.AlignmentToolbar,{value:a,onChange:e=>v({textAlignment:e})})),(0,s.createElement)("div",y,(0,s.createElement)("div",{className:"components-placeholder is-large"},(0,s.createElement)("div",{className:"components-placeholder__label"},(0,c.__)("Upcoming Events","events")),(0,s.createElement)("div",{className:"components-placeholder__instructions"},(0,c.__)("See for settings in the inspector. The result can be seen in the frontend","events")))))},save:()=>null};var w=e=>{const{attributes:{limit:t,columnsSmall:n,columnsMedium:l,columnsLarge:a,showImages:o,dropShadow:r,style:u,showCategory:m,showLocation:h,roundImages:v,excerptLength:g,selectedCategory:p,selectedLocation:b,fromDate:_,toDate:f,order:w,showAudience:y,showSpeaker:E},tagList:C,categoryList:k,tagsFieldValue:x,locationList:S,tagNames:L,setAttributes:N}=e,T=[{value:"",label:(0,c.__)("","events")},{value:"city",label:(0,c.__)("City","events")},{value:"name",label:(0,c.__)("Name","events")}];return(0,c.__)("Ascending","events"),(0,c.__)("Descending","events"),(0,s.createElement)(i.InspectorControls,null,(0,s.createElement)(d.PanelBody,{title:(0,c.__)("Data","events"),initialOpen:!0},(0,s.createElement)(d.SelectControl,{label:(0,c.__)("Category","events"),value:p,options:k,onChange:e=>{N({selectedCategory:e})}}),(0,s.createElement)(d.FormTokenField,{label:(0,c.__)("Tags","events"),value:x,suggestions:L,onChange:e=>{let t=[];e.map((e=>{const n=C.find((t=>t.name===e));void 0!==n&&t.push(n.id)})),N({selectedTags:t})},__experimentalExpandOnFocus:!0}),(0,s.createElement)(d.SelectControl,{label:(0,c.__)("Location","events"),value:b,options:S,onChange:e=>{N({selectedLocation:e})}})),(0,s.createElement)(d.PanelBody,{title:(0,c.__)("Appearance","events"),initialOpen:!0},(0,s.createElement)(d.PanelRow,null,(0,s.createElement)(d.ToggleControl,{label:(0,c.__)("Drop shadow","events"),checked:r,onChange:e=>N({dropShadow:e})})),(0,s.createElement)(d.PanelRow,null,(0,s.createElement)(d.SelectControl,{label:(0,c.__)("Location","events"),value:h,options:T,onChange:e=>{N({showLocation:e})}})),(0,s.createElement)(d.RangeControl,{label:(0,c.__)("Length of preview text","events"),max:200,min:0,help:(0,c.__)("Number of words","events"),onChange:e=>{N({excerptLength:e})},value:g}),(0,s.createElement)(d.PanelRow,null,(0,s.createElement)(d.CheckboxControl,{label:(0,c.__)("Show Audience","events"),checked:y,onChange:e=>N({showAudience:e})})),(0,s.createElement)(d.PanelRow,null,(0,s.createElement)(d.CheckboxControl,{label:(0,c.__)("Show Speaker","events"),checked:E,onChange:e=>N({showSpeaker:e})})),(0,s.createElement)(d.PanelRow,null,(0,s.createElement)(d.CheckboxControl,{label:(0,c.__)("Show category","events"),checked:m,onChange:e=>N({showCategory:e})}))))},y=(0,s.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,s.createElement)(d.Path,{d:"M0 0h24v24H0z",fill:"none"}),(0,s.createElement)(d.Path,{d:"M16.53 11.06L15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"})),E=JSON.parse('{"name":"events-manager/featured","apiVersion":2,"title":"Featured","category":"widgets","attributes":{"dropShadow":{"type":"boolean","default":false},"eventId":{"type":"number","default":100},"showCategory":{"type":"boolean","default":true},"showLocation":{"type":"string","default":""},"selectedCategory":{"type":"string","default":""},"selectedTags":{"type":"array","default":[]},"excerptLength":{"type":"number","default":20},"textAlignment":{"type":"string","default":"left"},"showAudience":{"type":"boolean","default":false},"showSpeaker":{"type":"boolean","default":false},"showImage":{"type":"boolean","default":true},"isRootElement":{"type":"boolean","default":false}}}');const{name:C,title:k}=E,x={...E,title:(0,c.__)(k,"ctx-blocks"),icon:y,edit:e=>{const{attributes:{columnsLarge:t,showImages:n,dropShadow:l,style:a,selectedCategory:o,isRootElement:d,textAlignment:h,roundImages:v,selectedTags:g},setAttributes:p}=e,b=(0,u.select)("core/block-editor").getBlockHierarchyRootClientId(e.clientId);p({isRootElement:b==e.clientId});const _=(0,u.useSelect)((e=>{const{getEntityRecords:t}=e(m.store),n=t("taxonomy","event-categories",{hide_empty:!0});let l=[{value:0,label:""}];return n?(n.map((e=>{l.push({value:e.id,label:e.name})})),l):l}),[]),f=(0,u.useSelect)((e=>{const{getEntityRecords:t}=e(m.store);return t("taxonomy","event-tags",{hide_empty:!0})||null}),[]),y=(0,u.useSelect)((e=>{const{getEntityRecords:t}=e(m.store),n=t("postType","location",{per_page:-1});let l=[{value:0,label:""}];return n?(n.map((e=>{l.push({value:e.id,label:e.title.raw})})),l):l}),[]),E=(0,u.useSelect)((e=>{const{getEntityRecords:t}=e(m.store);let n={};0!==o&&(n["event-categories"]=o),g!==[]&&(n["event-tags"]=g);const l=t("postType","event",n);if(!l)return!1;let a=l[0];l.forEach((e=>{let t=new Date(a.meta._event_start_date);new Date(e.meta._event_start_date)>t&&(a=e)}));const r=t("postType","attachment",{include:[a.featured_media]});return r&&(a.image=r[0].media_details.sizes.large.source_url),a}),[o,g]);let C=[],k=[];null!==f&&(C=f.map((e=>e.name)),k=g.map((e=>{let t=f.find((t=>t.id===e));return!(void 0===t||!t)&&t.name})));const x=(0,i.useBlockProps)({className:["ctx-featured-event",!!d&&"is-root",!!l&&"hover","style-"+a,"text-"+h,!!v&&"round-images"].filter(Boolean).join(" ")});return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(w,r({},e,{tagList:f,categoryList:_,tagsFieldValue:k,tagNames:C,locationList:y})),(0,s.createElement)(i.BlockControls,null,(0,s.createElement)(i.AlignmentToolbar,{value:h,onChange:e=>p({textAlignment:e})})),(0,s.createElement)("div",null,E&&(0,s.createElement)("div",r({},x,{style:{backgroundImage:`url(${E.image})`}}),(0,s.createElement)("div",{className:"overlay"},(0,s.createElement)("h1",null,E.title.raw),(0,s.createElement)("p",null,E.excerpt.raw),(0,s.createElement)("p",null,E.meta._event_start_date))),!E&&(0,s.createElement)("h2",null,(0,c.__)("No events found","events-manager"))))},save:()=>null};var S=e=>{const{attributes:{showLocation:t,showAudience:n,showDate:l,showTime:a,showSpeaker:o,showPrice:r,audienceDescription:u,audienceIcon:m,locationLink:h,speakerDescription:v,priceOverwrite:g,speakerIcon:p,speakerLink:b,bookedUpWarningThreshold:_,showBookedUp:f},setAttributes:w}=e;return(0,s.createElement)(i.InspectorControls,null,(0,s.createElement)(d.PanelBody,{title:(0,c.__)("Audience","events"),initialOpen:!0},(0,s.createElement)(d.ToggleControl,{label:(0,c.__)("Show Audience","events"),checked:n,onChange:e=>w({showAudience:e})}),(0,s.createElement)(d.TextControl,{disabled:!n,label:(0,c.__)("Description","events"),help:(0,c.__)('If empty, "Audience" is shown',"events"),value:u,onChange:e=>w({audienceDescription:e})}),(0,s.createElement)(d.SelectControl,{disabled:!n,label:(0,c.__)("Icon","events"),value:m,options:[{value:"groups",label:"People"},{value:"male",label:"Male"},{value:"female",label:"Female"}],onChange:e=>w({audienceIcon:e})})),(0,s.createElement)(d.PanelBody,{title:(0,c.__)("Location","events"),initialOpen:!0},(0,s.createElement)(d.ToggleControl,{label:(0,c.__)("Show Location","events"),checked:t,onChange:e=>w({showLocation:e})}),(0,s.createElement)(d.CheckboxControl,{disabled:!t,label:(0,c.__)("Add Link","events"),checked:h,onChange:e=>w({locationLink:e})})),(0,s.createElement)(d.PanelBody,{title:(0,c.__)("Date and Time","events"),initialOpen:!0},(0,s.createElement)(d.ToggleControl,{label:(0,c.__)("Show Date","events"),checked:l,onChange:e=>w({showDate:e})}),(0,s.createElement)(d.ToggleControl,{label:(0,c.__)("Show Time","events"),checked:a,onChange:e=>w({showTime:e})})),(0,s.createElement)(d.PanelBody,{title:(0,c.__)("Speaker","events"),initialOpen:!0},(0,s.createElement)(d.ToggleControl,{label:(0,c.__)("Show Speaker","events"),checked:o,onChange:e=>w({showSpeaker:e})}),(0,s.createElement)(d.TextControl,{disabled:!o,label:(0,c.__)("Description","events"),help:(0,c.__)('If empty, "Speaker" is shown',"events"),value:v,onChange:e=>w({speakerDescription:e})}),(0,s.createElement)(d.SelectControl,{disabled:!o,label:(0,c.__)("Icon","events"),value:p,options:[{value:"",label:(0,c.__)("Photo of speaker","events")},{value:"face",label:(0,c.__)("Face","events")},{value:"support_agent",label:(0,c.__)("Online Speaker","events")}],onChange:e=>w({speakerIcon:e})}),(0,s.createElement)(d.CheckboxControl,{disabled:!o,label:(0,c.__)("Add email link","events"),checked:b,onChange:e=>w({speakerLink:e})})),(0,s.createElement)(d.PanelBody,{title:(0,c.__)("Price","events"),initialOpen:!0},(0,s.createElement)(d.ToggleControl,{label:(0,c.__)("Show Price","events"),checked:r,onChange:e=>w({showPrice:e})}),(0,s.createElement)(d.TextControl,{disabled:!r,label:(0,c.__)("Overwrite Price","events"),help:(0,c.__)("If empty, the first ticket's price is used","events"),value:g,onChange:e=>w({priceOverwrite:e})})),(0,s.createElement)(d.PanelBody,{title:(0,c.__)("Booked up warning","events"),initialOpen:!0},(0,s.createElement)(d.ToggleControl,{label:(0,c.__)("Show if event is booked up or nearly booked up","events"),checked:f,onChange:e=>w({showBookedUp:e})}),(0,s.createElement)(d.RangeControl,{label:(0,c.__)("Warning threshold","events"),value:_,onChange:e=>w({bookedUpWarningThreshold:e}),min:0,max:10,help:(0,c.__)("Show a warning that the event is nearly booked up when only this number of spaces are left","events")})))},L=(0,s.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,s.createElement)(d.Path,{d:"M0 0h24v24H0z",fill:"none"}),(0,s.createElement)(d.Path,{d:"M16.53 11.06L15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"})),N=JSON.parse('{"name":"events-manager/details","apiVersion":2,"title":"Details","category":"widgets","attributes":{"showLocation":{"type":"boolean","default":""},"showAudience":{"type":"boolean","default":true},"showSpeaker":{"type":"boolean","default":true},"showDate":{"type":"boolean","default":true},"showTime":{"type":"boolean","default":true},"showPrice":{"type":"boolean","default":true},"audienceDescription":{"type":"string","default":""},"audienceIcon":{"type":"string","default":"groups"},"locationLink":{"type":"boolean","default":true},"speakerDescription":{"type":"string","default":""},"speakerIcon":{"type":"string","default":""},"speakerLink":{"type":"boolean","default":true},"priceOverwrite":{"type":"string","default":""},"bookedUpWarningThreshold":{"type":"number","default":5},"showBookedUp":{"type":"boolean","default":true}}}');const{name:T,title:P}=N,I={...N,title:(0,c.__)(P,"ctx-blocks"),icon:L,edit:e=>{var t,n,l,a,o,r,m,d,h;const{attributes:{showLocation:v,showAudience:g,showDate:p,showTime:b,showSpeaker:_,showPrice:f,audienceIcon:w,audienceDescription:y,speakerIcon:E,priceOverwrite:C,showBookedUp:k}}=e,[x,L]=(0,s.useState)(!1),N=(0,u.useSelect)((e=>e("core/editor").getCurrentPostId()),[]);(0,s.useEffect)((()=>{const e=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const n=null===(e=window.eventBlocksLocalization)||void 0===e?void 0:e.rest_url;if(void 0!==n)return n+(n.includes("?")?"&":"?")+t}(`post_id=${N}`);fetch(e).then((e=>e.json())).then((e=>L(e[0])))}),[]);const T=(0,i.useBlockProps)({className:["ctx:event-details"].filter(Boolean).join(" ")});return(0,s.createElement)("div",T,(0,s.createElement)(S,e),(0,s.createElement)("div",{className:"ctx:event-details__wrapper"},g&&(0,s.createElement)("div",{className:"ctx:event-details__item"},(0,s.createElement)("i",{className:"material-icons"},w),(0,s.createElement)("div",null,(0,s.createElement)("h5",null,""!=y?y:(0,c.__)("Audience","events")),null!==(t=null==x?void 0:x.audience)&&void 0!==t?t:(0,c.__)("no data"))),v&&(0,s.createElement)("div",{className:"ctx:event-details__item"},(0,s.createElement)("i",{className:"material-icons"},"place"),(0,s.createElement)("div",null,(0,s.createElement)("h5",null,(0,c.__)("Location","events")),null==x||null===(n=x.location)||void 0===n?void 0:n.address)),p&&(0,s.createElement)("div",{className:"ctx:event-details__item"},(0,s.createElement)("i",{className:"material-icons"},"today"),(0,s.createElement)("div",null,(0,s.createElement)("h5",null,(0,c.__)("Date","events")),(()=>{if(null!=x&&x.start)return function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const l=null===(t=window.eventBlocksLocalization)||void 0===t?void 0:t.locale;e=new Date(1e3*e),n=n?new Date(1e3*n):e;const a=e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate();let o={year:"numeric",month:"long",day:"numeric"};return a&&(o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}),new Intl.DateTimeFormat(l,o).formatRange(e,n)}(x.start,x.end)})())),b&&(0,s.createElement)("div",{className:"ctx:event-details__item"},(0,s.createElement)("i",{className:"material-icons"},"schedule"),(0,s.createElement)("div",null,(0,s.createElement)("h5",null,(0,c.__)("Time","events")),(()=>{if(null!=x&&x.start)return function(e){var t;const n=null===(t=window.eventBlocksLocalization)||void 0===t?void 0:t.locale;return new Intl.DateTimeFormat(n,{hour:"numeric",minute:"numeric"}).format(1e3*e)}(x.start)})())),_&&(0,s.createElement)("div",{className:"ctx:event-details__item"},""==E&&(0,s.createElement)("img",{className:"ctx:event-details__image",src:null==x||null===(l=x.speaker)||void 0===l||null===(a=l.image)||void 0===a||null===(o=a.sizes)||void 0===o||null===(r=o.thumbnail)||void 0===r?void 0:r.url})," ",""==!E&&(0,s.createElement)("i",{className:"material-icons"},E),(0,s.createElement)("div",null,(0,s.createElement)("h5",null,(0,c.__)("Speaker","events")),null==x||null===(m=x.speaker)||void 0===m?void 0:m.name)),f&&(0,s.createElement)("div",{className:"ctx:event-details__item"},(0,s.createElement)("i",{className:"material-icons"},"euro"),(0,s.createElement)("div",null,(0,s.createElement)("h5",null,(0,c.__)("Price","events")),""!=C?C:null==x||null===(d=x.price)||void 0===d?void 0:d.format)),k&&(null==x||null===(h=x.bookings)||void 0===h?void 0:h.has_bookings)&&(0,s.createElement)("div",{className:"ctx:event-details__item"},(0,s.createElement)("i",{className:"material-icons"},"report_problem"),(0,s.createElement)("div",null,(0,s.createElement)("h5",null,(0,c.__)("Warning","events")),(0,c.__)("This warning is shown, if few or no bookings are available")))))},save:()=>null};var B={grad:.9,turn:360,rad:360/(2*Math.PI)},H=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},M=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},z=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},V=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},R=function(e){return{r:z(e.r,0,255),g:z(e.g,0,255),b:z(e.b,0,255),a:z(e.a)}},D=function(e){return{r:M(e.r),g:M(e.g),b:M(e.b),a:M(e.a,3)}},A=/^#([0-9a-f]{3,8})$/i,O=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},F=function(e){var t=e.r,n=e.g,l=e.b,a=e.a,o=Math.max(t,n,l),r=o-Math.min(t,n,l),s=r?o===t?(n-l)/r:o===n?2+(l-t)/r:4+(t-n)/r:0;return{h:60*(s<0?s+6:s),s:o?r/o*100:0,v:o/255*100,a:a}},j=function(e){var t=e.h,n=e.s,l=e.v,a=e.a;t=t/360*6,n/=100,l/=100;var o=Math.floor(t),r=l*(1-n),s=l*(1-(t-o)*n),i=l*(1-(1-t+o)*n),c=o%6;return{r:255*[l,s,r,r,i,l][c],g:255*[i,l,l,s,r,r][c],b:255*[r,r,i,l,l,s][c],a:a}},U=function(e){return{h:V(e.h),s:z(e.s,0,100),l:z(e.l,0,100),a:z(e.a)}},W=function(e){return{h:M(e.h),s:M(e.s),l:M(e.l),a:M(e.a,3)}},$=function(e){return j((n=(t=e).s,{h:t.h,s:(n*=((l=t.l)<50?l:100-l)/100)>0?2*n/(l+n)*100:0,v:l+n,a:t.a}));var t,n,l},G=function(e){return{h:(t=F(e)).h,s:(a=(200-(n=t.s))*(l=t.v)/100)>0&&a<200?n*l/100/(a<=100?a:200-a)*100:0,l:a/2,a:t.a};var t,n,l,a},J=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Y=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,q=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,K=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Q={string:[[function(e){var t=A.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?M(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?M(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=q.exec(e)||K.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:R({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=J.exec(e)||Y.exec(e);if(!t)return null;var n,l,a=U({h:(n=t[1],l=t[2],void 0===l&&(l="deg"),Number(n)*(B[l]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return $(a)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,l=e.b,a=e.a,o=void 0===a?1:a;return H(t)&&H(n)&&H(l)?R({r:Number(t),g:Number(n),b:Number(l),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,n=e.s,l=e.l,a=e.a,o=void 0===a?1:a;if(!H(t)||!H(n)||!H(l))return null;var r=U({h:Number(t),s:Number(n),l:Number(l),a:Number(o)});return $(r)},"hsl"],[function(e){var t=e.h,n=e.s,l=e.v,a=e.a,o=void 0===a?1:a;if(!H(t)||!H(n)||!H(l))return null;var r=function(e){return{h:V(e.h),s:z(e.s,0,100),v:z(e.v,0,100),a:z(e.a)}}({h:Number(t),s:Number(n),v:Number(l),a:Number(o)});return j(r)},"hsv"]]},X=function(e,t){for(var n=0;n<t.length;n++){var l=t[n][0](e);if(l)return[l,t[n][1]]}return[null,void 0]},Z=function(e,t){var n=G(e);return{h:n.h,s:z(n.s+100*t,0,100),l:n.l,a:n.a}},ee=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},te=function(e,t){var n=G(e);return{h:n.h,s:n.s,l:z(n.l+100*t,0,100),a:n.a}},ne=function(){function e(e){this.parsed=function(e){return"string"==typeof e?X(e.trim(),Q.string):"object"==typeof e&&null!==e?X(e,Q.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return M(ee(this.rgba),2)},e.prototype.isDark=function(){return ee(this.rgba)<.5},e.prototype.isLight=function(){return ee(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=D(this.rgba)).r,n=e.g,l=e.b,o=(a=e.a)<1?O(M(255*a)):"","#"+O(t)+O(n)+O(l)+o;var e,t,n,l,a,o},e.prototype.toRgb=function(){return D(this.rgba)},e.prototype.toRgbString=function(){return t=(e=D(this.rgba)).r,n=e.g,l=e.b,(a=e.a)<1?"rgba("+t+", "+n+", "+l+", "+a+")":"rgb("+t+", "+n+", "+l+")";var e,t,n,l,a},e.prototype.toHsl=function(){return W(G(this.rgba))},e.prototype.toHslString=function(){return t=(e=W(G(this.rgba))).h,n=e.s,l=e.l,(a=e.a)<1?"hsla("+t+", "+n+"%, "+l+"%, "+a+")":"hsl("+t+", "+n+"%, "+l+"%)";var e,t,n,l,a},e.prototype.toHsv=function(){return e=F(this.rgba),{h:M(e.h),s:M(e.s),v:M(e.v),a:M(e.a,3)};var e},e.prototype.invert=function(){return le({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),le(Z(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),le(Z(this.rgba,-e))},e.prototype.grayscale=function(){return le(Z(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),le(te(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),le(te(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?le({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):M(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=G(this.rgba);return"number"==typeof e?le({h:e,s:t.s,l:t.l,a:t.a}):M(t.h)},e.prototype.isEqual=function(e){return this.toHex()===le(e).toHex()},e}(),le=function(e){return e instanceof ne?e:new ne(e)},ae=e=>{const{buttonColor:t,setButtonColor:n}=e;return(0,s.createElement)(i.InspectorControls,null,(0,s.createElement)(i.PanelColorSettings,{title:(0,c.__)("Color Settings","ctx-blocks"),colorSettings:[{label:(0,c.__)("Set a background color for the button","ctx-blocks"),onChange:n,value:t.color,disableCustomColors:!0}]}))},oe=(0,s.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,s.createElement)(d.Path,{d:"M0 0h24v24H0z",fill:"none"}),(0,s.createElement)(d.Path,{d:"M16.53 11.06L15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"})),re=JSON.parse('{"name":"events-manager/booking","apiVersion":2,"title":"Booking","category":"widgets","attributes":{"buttonTitle":{"type":"string","default":""},"buttonColor":{"type":"string","default":"primary"}}}');const{name:se,title:ie}=re,ce={...re,title:(0,c.__)(ie,"ctx-blocks"),icon:oe,edit:(0,i.withColors)({buttonColor:"buttonColor"})((e=>{const{attributes:{buttonTitle:t},setAttributes:n,buttonColor:l}=e,a=(0,i.useBlockProps)({className:["ctx-event-booking"].filter(Boolean).join(" ")}),o=null==l.color||le(l.color).isLight()?"#000000":"#ffffff",r={background:l.color,color:o};return(0,s.createElement)("div",a,(0,s.createElement)(ae,e),(0,s.createElement)("span",{style:r,className:"ctx-button"},(0,s.createElement)(i.RichText,{tagName:"span",value:t,onChange:e=>n({buttonTitle:e}),placeholder:(0,c.__)("Button title","ctx-blocks"),allowedFormats:["core/bold","core/italic"]})))})),save:()=>null};[t,n,l,a].forEach((e=>{if(!e)return;const{name:t,settings:n}=e;(0,o.registerBlockType)(t,n)}))}();