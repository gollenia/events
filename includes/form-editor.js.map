{"version":3,"file":"form-editor.js","mappings":"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","sources":["webpack:///./add-ons/bookings-form/form-editor.js","webpack:///external window \"jQuery\"","webpack:///webpack/bootstrap","webpack:///webpack/before-startup","webpack:///webpack/startup","webpack:///webpack/after-startup"],"sourcesContent":["jQuery(document).ready( function($){\r\n\t$('.bct-options').hide();\r\n\t//Booking Form\r\n\t$('form.em-form-custom').each( function( i, myform ){\r\n\t\tmyform = $(myform);\r\n\t\tvar booking_template = myform.find('#booking-custom-item-template').detach();\r\n\t\tmyform.on('click', '.booking-form-custom-field-remove', function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\t$(this).parents('.booking-custom-item').remove();\r\n\t\t\treserve_selected_userfields();\r\n\t\t});\r\n\t\tmyform.find('.booking-form-custom-field-add').click(function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\tbooking_template.clone().appendTo($(this).parents('.em-form-custom').find('ul.booking-custom-body').first());\r\n\t\t});\r\n\t\tmyform.on('click', '.booking-form-custom-field-options', function(e){\r\n\t\t\t$(this).blur();\r\n\t\t\te.preventDefault();\r\n\t\t\tif( $(this).attr('rel') != '1' ){\r\n\t\t\t\t$(this).parents('.em-form-custom').find('.booking-form-custom-field-options').attr('rel','0')\r\n\t\t\t\t$(this).parents('.booking-custom-item').find('.booking-form-custom-type').trigger('change');\r\n\t\t\t}else{\r\n\t\t\t\t$(this).parents('.booking-custom-item').find('.bct-options, .bct-options-toggle').slideUp();\r\n\t\t\t\t$(this).attr('rel','0');\r\n\t\t\t}\r\n\t\t});\r\n\t\tmyform.on('click', '.bct-options-toggle', function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\t$(this).blur().parents('.booking-custom-item').find('.booking-form-custom-field-options').trigger('click');\r\n\t\t});\r\n\t\t//specifics\r\n\t\tmyform.on('change', '.booking-form-custom-label', function(e){\r\n\t\t\tvar parent_div =  $(this).parents('.booking-custom-item').first();\r\n\t\t\tvar field_id = parent_div.find('input.booking-form-custom-fieldid').first();\r\n\t\t\tif( field_id.val() == '' ){\r\n\t\t\t\tfield_id.val(escape($(this).val()).replace(/%[0-9]+/g,'_').toLowerCase());\r\n\t\t\t}\r\n\t\t});\r\n\t\tmyform.on('change', 'input[type=\"checkbox\"]', function(){\r\n\t\t\tvar checkbox = $(this);\r\n\t\t\tif( checkbox.next().attr('type') == 'hidden' ){\r\n\t\t\t\tif( checkbox.is(':checked') ){\r\n\t\t\t\t\tcheckbox.next().val(1);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcheckbox.next().val(0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tvar reserve_selected_userfields = function(){\r\n\t\t\tmyform.find('.booking-form-custom-type optgroup.bc-custom-user-fields option:disabled, .booking-form-custom-type optgroup.bc-core-user-fields option:disabled').prop('disabled', false);\r\n\t\t\tmyform.find('.booking-form-custom-type optgroup.bc-custom-user-fields option:selected, .booking-form-custom-type optgroup.bc-core-user-fields option:selected').each( function( i, item ){\r\n\t\t\t\titem = $(item);\r\n\t\t\t\tvar item_val = item.val();\r\n\t\t\t\tvar filter = '.booking-form-custom-type optgroup.bc-custom-user-fields option[value=\"'+item_val+'\"], .booking-form-custom-type optgroup.bc-core-user-fields option[value=\"'+item_val+'\"]';\r\n\t\t\t\tvar found_items = myform.find(filter).add(booking_template.find(filter));\r\n\t\t\t\tfound_items.each( function(i_2, taken_item){\r\n\t\t\t\t\ttaken_item = $(taken_item);\r\n\t\t\t\t\tif( !taken_item.is(item) ){\r\n\t\t\t\t\t\ttaken_item.prop('disabled', true);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\t\treserve_selected_userfields();\r\n\t\tmyform.on('change', '.booking-form-custom-type', function(){\r\n\t\t\t$('.bct-options').slideUp();\r\n\t\t\t$('.bct-options-toggle').hide();\r\n\t\t\tvar reg_keys = []; //get reg keys from booking template for use in type_keys\r\n\t\t\tbooking_template.find('.bc-custom-user-fields option, .bc-core-user-fields option').each( function( i, field ){\r\n\t\t\t\treg_keys.push(field.value);\r\n\t\t\t});\r\n\t\t\tvar type_keys = {\r\n\t\t\t\tselect : ['select','multiselect'],\r\n\t\t\t\tcountry : ['country'],\r\n\t\t\t\tdate : ['date'],\r\n\t\t\t\ttime : ['time'],\r\n\t\t\t\thtml : ['html'],\r\n\t\t\t\tselection : ['checkboxes','radio'],\r\n\t\t\t\tcheckbox : ['checkbox'],\r\n\t\t\t\ttext : ['text','textarea','email'],\r\n\t\t\t\tregistration : reg_keys,\r\n\t\t\t\tcaptcha : ['captcha'],\r\n\t\t\t\temail : ['email'],\r\n\t\t\t\ttel : ['tel']\r\n\t\t\t}\r\n\t\t\tvar select_box = $(this);\r\n\t\t\tvar selected_value = select_box.val();\r\n\t\t\t$.each(type_keys, function(option,types){\r\n\t\t\t\tif( $.inArray(selected_value,types) > -1 ){\r\n\t\t\t\t\t//get parent div\r\n\t\t\t\t\tparent_div =  select_box.parents('.booking-custom-item').first();\r\n\t\t\t\t\t//slide the right divs in/out\r\n\t\t\t\t\tparent_div.find('.bct-'+option).slideDown();\r\n\t\t\t\t\tparent_div.find('.bct-options-toggle').show();\r\n\t\t\t\t\tparent_div.find('.booking-form-custom-field-options').attr('rel','1');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treserve_selected_userfields();\r\n\t\t});\r\n\t\tmyform.on('click', '.bc-link-up, .bc-link-down', function(e){\r\n\t\t\te.preventDefault();\r\n\t\t\titem = $(this).parents('.booking-custom-item').first();\r\n\t\t\tif( $(this).hasClass('bc-link-up') ){\r\n\t\t\t\tif(item.prev().length > 0){\r\n\t\t\t\t\titem.prev().before(item);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif( item.next().length > 0 ){\r\n\t\t\t\t\titem.next().after(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tmyform.on('mousedown', '.bc-col-sort', function(){\r\n\t\t\tparent_div =  $(this).parents('.booking-custom-item').first();\r\n\t\t\tparent_div.find('.bct-options').hide();\r\n\t\t\tparent_div.find('.booking-form-custom-field-options').attr('rel','0');\r\n\t\t});\r\n\t\tmyform.find('.booking-custom-body').sortable({\r\n\t\t\tplaceholder: \"bc-highlight\",\r\n\t\t\thandle:'.bc-col-sort'\r\n\t\t});\r\n\t\t//Fix for PHP max_ini_vars\r\n\t\tif ( EM.max_input_vars > 0 && typeof JSON.stringify != 'undefined' ){\r\n\t\t\t$('.em-form-custom').submit(function(event){\r\n\t\t\t    var myform = $(this);\r\n\t\t\t\t//count input vars\r\n\t\t\t    if ($('form#em_fields_json').length) return;\t//have already made switch, so let default submit take place\r\n\t\t\t\tif( myform.serializeArray().length < EM.max_input_vars ){\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t    event.preventDefault();\r\n\t\t\t\tvar data = myform.serializeJSON();\r\n\t\t\t\t//create new form and add data to it\r\n\t\t\t\tvar new_form  = $('<form id=\"em_fields_json\" action=\"\" method=\"post\"></form>').append($('<input type=\"hidden\" />').attr({id:'em_fields_json', name:'em_fields_json', value:data}));\r\n\t\t\t\tmyform.after(new_form);\r\n\t\t\t\tnew_form.submit();\r\n\t\t\t});\r\n\t\t}\r\n\t\t//ML Stuff\r\n\t\tmyform.find('.bc-translatable').click(function(){\r\n\t\t\t$(this).closest('li.booking-custom-item').find('.' + $(this).attr('rel')).slideToggle();\r\n\t\t});\r\n\t});\r\n});\r\n/** Added for PHP max_ini_var issues, see further up.\r\n * jQuery serializeObject\r\n * @copyright 2014, macek <paulmacek@gmail.com>\r\n * @link https://github.com/macek/jquery-serialize-object\r\n * @license BSD\r\n * @version 2.5.0\r\n */\r\n!function(e,i){if(\"function\"==typeof define&&define.amd)define([\"exports\",\"jquery\"],function(e,r){return i(e,r)});else if(\"undefined\"!=typeof exports){var r=require(\"jquery\");i(exports,r)}else i(e,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,i){function r(e,r){function n(e,i,r){return e[i]=r,e}function a(e,i){for(var r,a=e.match(t.key);void 0!==(r=a.pop());)if(t.push.test(r)){var u=s(e.replace(/\\[\\]$/,\"\"));i=n([],u,i)}else t.fixed.test(r)?i=n([],r,i):t.named.test(r)&&(i=n({},r,i));return i}function s(e){return void 0===h[e]&&(h[e]=0),h[e]++}function u(e){switch(i('[name=\"'+e.name+'\"]',r).attr(\"type\")){case\"checkbox\":return\"on\"===e.value?!0:e.value;default:return e.value}}function f(i){if(!t.validate.test(i.name))return this;var r=a(i.name,u(i));return l=e.extend(!0,l,r),this}function d(i){if(!e.isArray(i))throw new Error(\"formSerializer.addPairs expects an Array\");for(var r=0,t=i.length;t>r;r++)this.addPair(i[r]);return this}function o(){return l}function c(){return JSON.stringify(o())}var l={},h={};this.addPair=f,this.addPairs=d,this.serialize=o,this.serializeJSON=c}var t={validate:/^[a-z_][a-z0-9_]*(?:\\[(?:\\d*|[a-z0-9_]+)\\])*$/i,key:/[a-z0-9_]+|(?=\\[\\])/gi,push:/^$/,fixed:/^\\d+$/,named:/^[a-z0-9_]+$/i};return r.patterns=t,r.serializeObject=function(){return new r(i,this).addPairs(this.serializeArray()).serialize()},r.serializeJSON=function(){return new r(i,this).addPairs(this.serializeArray()).serializeJSON()},\"undefined\"!=typeof i.fn&&(i.fn.serializeObject=r.serializeObject,i.fn.serializeJSON=r.serializeJSON),e.FormSerializer=r,r});","module.exports = window[\"jQuery\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./add-ons/bookings-form/form-editor.js\");\n",""],"names":["jQuery","document","ready","$","hide","each","i","myform","booking_template","find","detach","on","e","preventDefault","parents","remove","reserve_selected_userfields","click","clone","appendTo","first","blur","attr","trigger","slideUp","parent_div","field_id","val","escape","replace","toLowerCase","checkbox","next","is","prop","item","item_val","filter","found_items","add","i_2","taken_item","reg_keys","field","push","value","type_keys","select","country","date","time","html","selection","text","registration","captcha","email","tel","select_box","selected_value","option","types","inArray","slideDown","show","hasClass","prev","length","before","after","sortable","placeholder","handle","EM","max_input_vars","JSON","stringify","submit","event","serializeArray","data","serializeJSON","new_form","append","id","name","closest","slideToggle","define","amd","r","exports","require","Zepto","ender","n","a","match","t","key","pop","test","u","s","fixed","named","h","f","validate","l","extend","d","isArray","Error","addPair","o","c","addPairs","serialize","patterns","serializeObject","fn","FormSerializer"],"sourceRoot":""}