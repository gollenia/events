!function(){"use strict";jQuery(document).ready((function(n){let a=!1;if(n("#start-time").each((function(e,t){n(t).addClass("em-time-input em-time-start").next("#end-time").addClass("em-time-input em-time-end").parent().addClass("em-time-range")})),n(".em-calendar-wrapper a").off("click"),n(".em-calendar-wrapper").on("click","a.em-calnav, a.em-calnav",(function(t){t.preventDefault(),n(this).closest(".em-calendar-wrapper").prepend('<div class="loading" id="em-loading"></div>');let a=e(n(this).attr("href"));n(this).closest(".em-calendar-wrapper").load(a,(function(){n(this).trigger("em_calendar_load")}))})),n(document).on("click change",".em-toggle",(function(e){e.preventDefault();let t=n(this),a=t.attr("rel").split(":");t.hasClass("show-search")?(a.length>1?t.closest(a[1]).find(a[0]).slideUp():n(a[0]).slideUp(),t.find(".show, .show-advanced").show(),t.find(".hide, .hide-advanced").hide(),t.removeClass("show-search")):(a.length>1?t.closest(a[1]).find(a[0]).slideDown():n(a[0]).slideDown(),t.find(".show, .show-advanced").hide(),t.find(".hide, .hide-advanced").show(),t.addClass("show-search"))})),EM.search_term_placeholder&&("placeholder"in document.createElement("input")?n("input.em-events-search-text, input.em-search-text").attr("placeholder",EM.search_term_placeholder):n("input.em-events-search-text, input.em-search-text").on("blur",(function(){""==this.value&&(this.value=EM.search_term_placeholder)})).on("focus",(function(){this.value==EM.search_term_placeholder&&(this.value="")})).trigger("blur")),n(".em-search-form select[name=country]").on("change",(function(){let e=n(this);if(n(".em-search select[name=state]").html('<option value="">'+EM.txt_loading+"</option>"),n(".em-search select[name=region]").html('<option value="">'+EM.txt_loading+"</option>"),n(".em-search select[name=town]").html('<option value="">'+EM.txt_loading+"</option>"),""!=e.val()){e.closest(".em-search-location").find(".em-search-location-meta").slideDown();let t={action:"search_states",country:e.val(),return_html:!0};n(".em-search select[name=state]").load(EM.ajaxurl,t),t.action="search_regions",n(".em-search select[name=region]").load(EM.ajaxurl,t),t.action="search_towns",n(".em-search select[name=town]").load(EM.ajaxurl,t)}else e.closest(".em-search-location").find(".em-search-location-meta").slideUp()})),n(".em-search-form select[name=region]").on("change",(function(){n(".em-search select[name=state]").html('<option value="">'+EM.txt_loading+"</option>"),n(".em-search select[name=town]").html('<option value="">'+EM.txt_loading+"</option>");let e={action:"search_states",region:n(this).val(),country:n(".em-search-form select[name=country]").val(),return_html:!0};n(".em-search select[name=state]").load(EM.ajaxurl,e),e.action="search_towns",n(".em-search select[name=town]").load(EM.ajaxurl,e)})),n(".em-search-form select[name=state]").on("change",(function(){n(".em-search select[name=town]").html('<option value="">'+EM.txt_loading+"</option>");let e={action:"search_towns",state:n(this).val(),region:n(".em-search-form select[name=region]").val(),country:n(".em-search-form select[name=country]").val(),return_html:!0};n(".em-search select[name=town]").load(EM.ajaxurl,e)})),n(document).on("submit",".em-search-form, .em-events-search-form",(function(e){let t=n(this);this.em_search&&this.em_search.value==EM.txt_search&&(this.em_search.value="");let a=t.closest(".em-search-wrapper").find(".em-search-ajax");if(0==a.length&&(a=n(".em-search-ajax")),a.length>0){a.append('<div class="loading" id="em-loading"></div>');let i=t.find(".em-search-submit");i.data("buttonText",i.val()).val(EM.txt_searching);let o=i.children("img");o.length>0&&o.attr("src",o.attr("src").replace("search-mag.png","search-loading.gif"));let r=t.serialize();return n.ajax(EM.ajaxurl,{type:"POST",dataType:"html",data:r,success:function(c){i.val(i.data("buttonText")),o.length>0&&o.attr("src",o.attr("src").replace("search-loading.gif","search-mag.png")),a.replaceWith(c),""==t.find("input[name=em_search]").val()&&t.find("input[name=em_search]").val(EM.txt_search),a=t.closest(".em-search-wrapper").find(".em-search-ajax"),0==a.length&&(a=n(".em-search-ajax")),jQuery(document).triggerHandler("em_search_ajax",[r,a,e])}}),e.preventDefault(),!1}})),n(".em-search-ajax").length>0&&n(document).on("click",".em-search-ajax a.page-numbers",(function(e){let t=n(this),a=t.closest(".em-pagination").attr("data-em-ajax"),i=t.closest(".em-search-ajax"),o=i.parent(),r=t.attr("href").split("?")[1];return""!=a&&(r=""!=r?r+"&"+a:a),i.append('<div class="loading" id="em-loading"></div>'),n.ajax(EM.ajaxurl,{type:"POST",dataType:"html",data:r,success:function(t){i.replaceWith(t),i=o.find(".em-search-ajax"),jQuery(document).triggerHandler("em_search_ajax",[r,i,e])}}),e.preventDefault(),!1})),n(".events-table").on("click",".em-event-delete",(function(){if(!confirm("Are you sure you want to delete?"))return!1;window.location.href=this.href})),n("#event-form #event-image-delete, #location-form #location-image-delete").on("click",(function(){let e=n(this);e.is(":checked")?e.closest(".event-form-image, .location-form-image").find("#event-image-img, #location-image-img").hide():e.closest(".event-form-image, .location-form-image").find("#event-image-img, #location-image-img").show()})),n("#event-form.em-event-admin-recurring").on("submit",(function(e){let t=n(this);1==t.find('input[name="event_reschedule"]').first().val()?EM.event_reschedule_warning:1==t.find('input[name="event_recreate_tickets"]').first().val()?EM.event_recurrence_bookings:EM.event_recurrence_overwrite,0==confirm(warning_text)&&e.preventDefault()})),n(".em-reschedule-trigger").on("click",(function(e){e.preventDefault();let t=n(this);t.closest(".em-recurrence-reschedule").find(t.data("target")).removeClass("reschedule-hidden"),t.siblings(".em-reschedule-value").val(1),t.addClass("reschedule-hidden").siblings("a").removeClass("reschedule-hidden")})),n(".em-reschedule-cancel").on("click",(function(e){e.preventDefault();let t=n(this);t.closest(".em-recurrence-reschedule").find(t.data("target")).addClass("reschedule-hidden"),t.siblings(".em-reschedule-value").val(0),t.addClass("reschedule-hidden").siblings("a").removeClass("reschedule-hidden")})),n("#em-tickets-form").length>0){n("#event-rsvp").on("click",(function(e){this.checked?n("#event-rsvp-options").fadeIn():0==confirm(EM.disable_bookings_warning)?e.preventDefault():n("#event-rsvp-options").hide()})),n("input#event-rsvp").is(":checked")?n("div#rsvp-data").fadeIn():n("div#rsvp-data").hide();let e=function(){n("#em-tickets-form table tbody tr.em-tickets-row").show(),n("#em-tickets-form table tbody tr.em-tickets-row-form").hide()};n("#em-recurrence-checkbox").length>0?n("#em-recurrence-checkbox").on("change",(function(){n("#em-recurrence-checkbox").is(":checked")?(n("#em-tickets-form .ticket-dates-from-recurring, #em-tickets-form .ticket-dates-to-recurring, #event-rsvp-options .em-booking-date-recurring").show(),n("#em-tickets-form .ticket-dates-from-normal, #em-tickets-form .ticket-dates-to-normal, #event-rsvp-options .em-booking-date-normal, #em-tickets-form .hidden").hide()):(n("#em-tickets-form .ticket-dates-from-normal, #em-tickets-form .ticket-dates-to-normal, #event-rsvp-options .em-booking-date-normal").show(),n("#em-tickets-form .ticket-dates-from-recurring, #em-tickets-form .ticket-dates-to-recurring, #event-rsvp-options .em-booking-date-recurring, #em-tickets-form .hidden").hide())})).trigger("change"):n("#em-form-recurrence").length>0?(n("#em-tickets-form .ticket-dates-from-recurring, #em-tickets-form .ticket-dates-to-recurring, #event-rsvp-options .em-booking-date-recurring").show(),n("#em-tickets-form .ticket-dates-from-normal, #em-tickets-form .ticket-dates-to-normal, #event-rsvp-options .em-booking-date-normal, #em-tickets-form .hidden").hide()):n("#em-tickets-form .ticket-dates-from-recurring, #em-tickets-form .ticket-dates-to-recurring, #event-rsvp-options .em-booking-date-recurring, #em-tickets-form .hidden").hide(),n("#em-tickets-add").on("click",(function(a){a.preventDefault(),e();let i=n("#em-tickets-form table tbody"),o=i.length+1,r=i.first(".em-ticket-template").clone(!0).attr("id","em-ticket-"+o).removeClass("em-ticket-template").addClass("em-ticket").appendTo(n("#em-tickets-form table"));r.find("*[name]").each((function(e,t){(t=n(t)).attr("name",t.attr("name").replace("em_tickets[0]","em_tickets["+o+"]"))})),r.show().find(".ticket-actions-edit").trigger("click"),r.find(".em-date-input-loc").datepicker("destroy").removeAttr("id"),r.find(".em-time-input").off().each((function(e,t){"object"==typeof this.em_timepickerObj&&this.em_timepicker("remove")})),em_setup_datepicker(r),em_setup_timepicker(r),n("html, body").animate({scrollTop:r.offset().top-30}),t()})),n(document).on("click",".ticket-actions-edit",(function(t){t.preventDefault(),e();let a=n(this).closest("tbody");return a.find("tr.em-tickets-row").hide(),a.find("tr.em-tickets-row-form").fadeIn(),!1})),n(document).on("click",".ticket-actions-edited",(function(e){e.preventDefault();let t=n(this).closest("tbody"),a=t.attr("id").replace("em-ticket-","");return t.find(".em-tickets-row").fadeIn(),t.find(".em-tickets-row-form").hide(),t.find("*[name]").each((function(e,i){if("ticket_start_pub"==(i=n(i)).attr("name"))t.find("span.ticket_start").text(i.val());else if("ticket_end_pub"==i.attr("name"))t.find("span.ticket_end").text(i.val());else if(i.attr("name")=="em_tickets["+a+"][ticket_type]")"members"==i.find(":selected").val()&&t.find("span.ticket_name").prepend("* ");else if(i.attr("name")=="em_tickets["+a+"][ticket_start_recurring_days]"){let e="before"==t.find("select.ticket-dates-from-recurring-when").val()?"-"+i.val():i.val();""!=i.val()?(t.find("span.ticket_start_recurring_days").text(e),t.find("span.ticket_start_recurring_days_text, span.ticket_start_time").removeClass("hidden").show()):(t.find("span.ticket_start_recurring_days").text(" - "),t.find("span.ticket_start_recurring_days_text, span.ticket_start_time").removeClass("hidden").hide())}else if(i.attr("name")=="em_tickets["+a+"][ticket_end_recurring_days]"){let e="before"==t.find("select.ticket-dates-to-recurring-when").val()?"-"+i.val():i.val();""!=i.val()?(t.find("span.ticket_end_recurring_days").text(e),t.find("span.ticket_end_recurring_days_text, span.ticket_end_time").removeClass("hidden").show()):(t.find("span.ticket_end_recurring_days").text(" - "),t.find("span.ticket_end_recurring_days_text, span.ticket_end_time").removeClass("hidden").hide())}else{let e=i.attr("name").replace("em_tickets["+a+"][","").replace("]","").replace("[]","");t.find(".em-tickets-row ."+e).text(i.val())}})),n(document).triggerHandler("em_maps_tickets_edit",[t,a,!0]),n("html, body").animate({scrollTop:t.parent().offset().top-30}),!1})),n(document).on("change",".em-ticket-form select.ticket_type",(function(e){let t=n(this);"members"==t.find("option:selected").val()?t.closest(".em-ticket-form").find(".ticket-roles").fadeIn():t.closest(".em-ticket-form").find(".ticket-roles").hide()})),n(document).on("click",".em-ticket-form .ticket-options-advanced",(function(e){e.preventDefault();let t=n(this);t.hasClass("show")?(t.closest(".em-ticket-form").find(".em-ticket-form-advanced").fadeIn(),t.find(".show,.show-advanced").hide(),t.find(".hide,.hide-advanced").show()):(t.closest(".em-ticket-form").find(".em-ticket-form-advanced").hide(),t.find(".show,.show-advanced").show(),t.find(".hide,.hide-advanced").hide()),t.toggleClass("show")})),n(".em-ticket-form").each((function(){let e=!1,t=n(this);t.find('.em-ticket-form-advanced input[type="text"]').each((function(){""!=this.value&&(e=!0)})),t.find('.em-ticket-form-advanced input[type="checkbox"]:checked').length>0&&(e=!0),t.find(".em-ticket-form-advanced option:selected").each((function(){""!=this.value&&(e=!0)})),e&&t.find(".ticket-options-advanced").trigger("click")})),n(document).on("click",".ticket-actions-delete",(function(e){e.preventDefault();let a=n(this),i=a.closest("tbody");return i.find("input.ticket_id").val()>0?(a.text("Deleting..."),n.getJSON(n(this).attr("href"),{em_ajax_action:"delete_ticket",id:i.find("input.ticket_id").val()},(function(e){e.result?i.remove():(a.text("Delete"),alert(e.error))}))):i.remove(),t(),!1})),n("#em-tickets-form.em-tickets-sortable table").sortable({items:"> tbody",placeholder:"em-ticket-sortable-placeholder",handle:".ticket-status",helper:function(e,t){let a=n(t).clone().addClass("em-ticket-sortable-helper"),i=a.find(".em-tickets-row td").length;return a.children().remove(),a.append('<tr class="em-tickets-row"><td colspan="'+i+'" style="text-align:left; padding-left:15px;"><span class="dashicons dashicons-tickets-alt"></span></td></tr>'),a}});let t=function(){let e=n("#em-tickets-form table tbody.em-ticket");if(1==e.length)return e.find(".ticket-status").addClass("single"),void n("#em-tickets-form.em-tickets-sortable table").sortable("option","disabled",!0);e.find(".ticket-status").removeClass("single"),n("#em-tickets-form.em-tickets-sortable table").sortable("option","disabled",!1)};t()}if(n("#em-bookings-table").length>0){n(document).on("click","#em-bookings-table .tablenav-pages a",(function(){let e=n(this),t=e.parents("#em-bookings-table form.bookings-filter"),a=e.attr("href").match(/#[0-9]+/);if(null!=a&&a.length>0){let e=a[0].replace("#","");t.find("input[name=pno]").val(e)}else t.find("input[name=pno]").val(1);return t.trigger("submit"),!1}));let t={modal:!0,autoOpen:!1,minWidth:500,height:"auto",buttons:[{text:EM.bookings_settings_save,click:function(e){e.preventDefault();let t=n("#em-bookings-table form.bookings-filter [name=cols]").val(""),a=n("form#em-bookings-table-settings-form input.em-bookings-col-item");n.each(a,(function(e,n){1==n.value&&(""!=t.val()?t.val(t.val()+","+n.name):t.val(n.name))})),n("#em-bookings-table-settings").trigger("submitted"),n("#em-bookings-table form.bookings-filter").trigger("submit"),n(this).dialog("close")}}]},i={modal:!0,autoOpen:!1,minWidth:700,height:"auto",buttons:[{text:EM.bookings_export_save,click:function(e){n(this).children("form").trigger("submit"),n(this).dialog("close")}}]};if(n("#em-bookings-table-settings").length>0){n("#em-bookings-table-settings").dialog(t),n(document).on("click","#em-bookings-table-settings-trigger",(function(e){e.preventDefault(),n("#em-bookings-table-settings").dialog("open")})),n("#em-bookings-table-export").dialog(i),n(document).on("click","#em-bookings-table-export-trigger",(function(e){e.preventDefault(),n("#em-bookings-table-export").dialog("open")}));let e=function(){n("#em-bookings-table-export-form input[name=show_tickets]").is(":checked")?(n("#em-bookings-table-export-form .em-bookings-col-item-ticket").show(),n("#em-bookings-table-export-form #em-bookings-export-cols-active .em-bookings-col-item-ticket input").val(1)):n("#em-bookings-table-export-form .em-bookings-col-item-ticket").hide().find("input").val(0)};n("#em-bookings-table form select").each((function(e,t){n(t).on("change",(function(e){let t=n(this),a=n("#em-bookings-table-export-form input[name="+t.attr("name")+"]"),i=t.find("option:selected");a.val(i.val())}))})),e(),n("#em-bookings-table-export-form input[name=show_tickets]").on("click",e),n(".em-bookings-cols-sortable").sortable({connectWith:".em-bookings-cols-sortable",update:function(e,t){t.item.parents("ul#em-bookings-cols-active, ul#em-bookings-export-cols-active").length>0?t.item.addClass("ui-state-highlight").removeClass("ui-state-default").children("input").val(1):t.item.addClass("ui-state-default").removeClass("ui-state-highlight").children("input").val(0)}}).disableSelection(),a=!0}n(document).on("submit","#em-bookings-table form.bookings-filter",(function(e){let t=n(this);return t.parents("#em-bookings-table").find(".table-wrap").first().append('<div id="em-loading" />'),n.post(EM.ajaxurl,t.serializeArray(),(function(e){let a=t.parents("#em-bookings-table").first();a.replaceWith(e),n("#em-bookings-table-export input[name=scope]").val(a.find("select[name=scope]").val()),n("#em-bookings-table-export input[name=status]").val(a.find("select[name=status]").val()),jQuery(document).triggerHandler("em_bookings_filtered",[e,a,t])})),!1})),n(document).on("click",".em-bookings-approve,.em-bookings-reject,.em-bookings-unapprove,.em-bookings-delete",(function(){let t=n(this);if(t.hasClass("em-bookings-delete")&&!confirm(EM.booking_delete))return!1;let a=e(t.attr("href")),i=t.parents("td").first();return i.html(EM.txt_loading),i.load(a),!1}))}function i(){n(".interval-desc").hide();let e="-plural";1!=n("input#recurrence-interval").val()&&""!=n("input#recurrence-interval").val()||(e="-singular");let t="span#interval-"+n("select#recurrence-frequency").val()+e;n(t).show()}function o(){n("p.alternate-selector").hide(),n("p#"+n("select#recurrence-frequency").val()+"-selector").show()}function r(){n("input#event-recurrence").is(":checked")?(n("#event_recurrence_pattern").fadeIn(),n("#event-date-explanation").hide(),n("#recurrence-dates-explanation").show(),n("h3#recurrence-dates-title").show(),n("h3#event-date-title").hide()):(n("#event_recurrence_pattern").hide(),n("#recurrence-dates-explanation").hide(),n("#event-date-explanation").show(),n("h3#recurrence-dates-title").hide(),n("h3#event-date-title").show())}if(n(".em_bookings_events_table").length>0&&(n(document).on("submit",".em_bookings_events_table form",(function(t){let a=n(this),i=e(a.attr("action"));return a.parents(".em_bookings_events_table").find(".table-wrap").first().append('<div id="em-loading" />'),n.get(i,a.serializeArray(),(function(e){a.parents(".em_bookings_events_table").first().replaceWith(e)})),!1})),n(document).on("click",".em_bookings_events_table .tablenav-pages a",(function(){let t=n(this),a=e(t.attr("href"));return t.parents(".em_bookings_events_table").find(".table-wrap").first().append('<div id="em-loading" />'),n.get(a,(function(e){t.parents(".em_bookings_events_table").first().replaceWith(e)})),!1}))),n(document).on("click","a.em-booking-button",(function(e){e.preventDefault();let t=n(this);if(t.text()!=EM.bb_booked&&n(this).text()!=EM.bb_booking){t.text(EM.bb_booking);let e=t.attr("id").split("_");n.ajax({url:EM.ajaxurl,dataType:"jsonp",data:{event_id:e[1],_wpnonce:e[2],action:"booking_add_one"},success:function(e,a,i,o){e.result?t.text(EM.bb_booked):t.text(EM.bb_error),""!=e.message&&alert(e.message),n(document).triggerHandler("em_booking_button_response",[e,t])},error:function(){t.text(EM.bb_error)}})}return!1})),n(document).on("click","a.em-cancel-button",(function(e){e.preventDefault();let t=n(this);if(t.text()!=EM.bb_cancelled&&t.text()!=EM.bb_canceling){t.text(EM.bb_canceling);let e=t.attr("id").split("_");n.ajax({url:EM.ajaxurl,dataType:"jsonp",data:{booking_id:e[1],_wpnonce:e[2],action:"booking_cancel"},success:function(e,n,a,i){e.result?t.text(EM.bb_cancelled):t.text(EM.bb_cancel_error)},error:function(){t.text(EM.bb_cancel_error)}})}return!1})),a&&function(){if(EM.ui_css&&0==jQuery("link#jquery-ui-css").length){let e=document.createElement("link");e.id="jquery-ui-css",e.rel="stylesheet",e.href=EM.ui_css,document.body.appendChild(e)}}(),n("#recurrence-dates-explanation").hide(),n("#date-to-submit").hide(),n("#end-date-to-submit").hide(),n("#localised-date").show(),n("#localised-end-date").show(),n("#em-wrapper input.select-all").on("change",(function(){n(this).is(":checked")?(n("input.row-selector").prop("checked",!0),n("input.select-all").prop("checked",!0)):(n("input.row-selector").prop("checked",!1),n("input.select-all").prop("checked",!1))})),i(),o(),r(),n("input#event-recurrence").on("change",r),n("input#recurrence-interval").on("keyup",i),n("select#recurrence-frequency").on("change",i),n("select#recurrence-frequency").on("change",o),n(".em-location-types .em-location-types-select").on("change",(function(){let e=n(this);if(0==e.val())n(".em-location-type").hide();else{let t=e.find("option:selected").data("display-class");n(".em-location-type").hide(),n(".em-location-type."+t).show(),"em-location-type-place"!=t&&jQuery("#em-location-reset a").trigger("click")}""!==e.data("active")&&e.val()!==e.data("active")?(n(".em-location-type-delete-active-alert").hide(),n(".em-location-type-delete-active-alert").show()):n(".em-location-type-delete-active-alert").hide()})).trigger("change"),jQuery("div.em-location-data input#location-name").length>0&&(jQuery("div.em-location-data input#location-name").autocomplete({source:EM.locationajaxurl,minLength:2,focus:function(e,t){return jQuery("input#location-id").val(t.item.value),!1},select:function(e,t){return jQuery("input#location-id").val(t.item.id).trigger("change"),jQuery("input#location-name").val(t.item.value),jQuery("input#location-address").val(t.item.address),jQuery("input#location-town").val(t.item.town),jQuery("input#location-state").val(t.item.state),jQuery("input#location-region").val(t.item.region),jQuery("input#location-postcode").val(t.item.postcode),jQuery("input#location-latitude").val(t.item.latitude),jQuery("input#location-longitude").val(t.item.longitude),""==t.item.country?jQuery("select#location-country option:selected").removeAttr("selected"):jQuery('select#location-country option[value="'+t.item.country+'"]').attr("selected","selected"),jQuery("div.em-location-data input").css("background-color","#ccc").prop("readonly",!0),jQuery("div.em-location-data select").css("background-color","#ccc").css("color","#666666").prop("disabled",!0),jQuery("#em-location-reset").show(),jQuery("#em-location-search-tip").hide(),jQuery(document).triggerHandler("em_locations_autocomplete_selected",[e,t]),!1}}).data("ui-autocomplete")._renderItem=function(e,n){let a="<a>"+t(n.label)+'<br><span style="font-size:11px"><em>'+t(n.address)+", "+t(n.town)+"</em></span></a>";return jQuery("<li></li>").data("item.autocomplete",n).append(a).appendTo(e)},jQuery("#em-location-reset a").on("click",(function(){return jQuery("div.em-location-data input").val("").prop("readonly",!1),jQuery("div.em-location-data select").prop("disabled",!1),jQuery("div.em-location-data option:selected").removeAttr("selected"),jQuery("input#location-id").val(""),jQuery("#em-location-reset").hide(),jQuery("#em-location-search-tip").show(),jQuery("#em-map").hide(),jQuery("#em-map-404").show(),"undefined"!=typeof marker&&(marker.setPosition(new google.maps.LatLng(0,0)),infoWindow.close(),marker.setDraggable(!0)),!1})),"0"!=jQuery("input#location-id").val()&&""!=jQuery("input#location-id").val()&&(jQuery("div.em-location-data input").prop("readonly",!0),jQuery("div.em-location-data select").prop("disabled",!0),jQuery("#em-location-reset").show(),jQuery("#em-location-search-tip").hide())),window.moment){let e=function(e,t){return(t=(t=(t=(t=t.replace(/##T/g,Intl.DateTimeFormat().resolvedOptions().timeZone)).replace(/#T/g,"GMT"+e.format("Z"))).replace(/###t/g,-60*e.utcOffset())).replace(/##t/g,e.isDST())).replace(/#t/g,e.daysInMonth())};n(".em-date-momentjs").each((function(){let t=n(this),a=moment.unix(t.data("date-start"));e(a,a.format(t.data("date-format")));if(t.data("date-start")!==t.data("date-end")){let n=moment.unix(t.data("date-end"));e(a,n.format(t.data("date-format")));t.data("date-separator")}t.text(date_string)}));let t=function(e,t){let n=new Date(1e3*e),a=n.getMinutes();if(24==t){let e=n.getHours();return e=e<10?"0"+e:e,a=a<10?"0"+a:a,e+":"+a}{let e=n.getHours()%12,t=e>=12?"PM":"AM";return 0===e&&(e=12),a=a<10?"0"+a:a,e+":"+a+" "+t}};n(".em-time-localjs").each((function(){let e=n(this),a=t(e.data("time"),e.data("time-format"));e.data("time-end")&&(a=a+(e.data("time-separator")?e.data("time-separator"):" - ")+t(e.data("time-end"),e.data("time-format"))),e.text(a)}))}jQuery(document).triggerHandler("em_javascript_loaded")}));let e=function(e){return-1!=e.search("em_ajax=0")?e=e.replace("em_ajax=0","em_ajax=1"):-1!=e.search(/\?/)?e+="&em_ajax=1":e+="?em_ajax=1",e};function t(e){return"string"!=typeof e?"":e.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")}let n={init:()=>{n.autofillDate(),n.autofillTime(),n.lockTime()},getElementByName:e=>{let t=document.getElementsByName(e);return!!t.length&&t[0]},autofillDate:()=>{const e=n.getElementByName("event_start_date"),t=n.getElementByName("event_end_date");e&&t&&e.addEventListener("change",(n=>{""==t.value&&(t.value=e.value)}))},autofillTime:()=>{const e=n.getElementByName("event_start_time"),t=n.getElementByName("event_end_time");e&&t&&e.addEventListener("change",(n=>{"00:00"==t.value&&(t.value=e.value)}))},lockTime:()=>{const e=n.getElementByName("event_all_day"),t=n.getElementByName("event_start_time"),a=n.getElementByName("event_end_time");e&&e.addEventListener("change",(n=>{t.disabled=e.checked,a.disabled=e.checked}))}};document.addEventListener("DOMContentLoaded",n.init,!1)}();